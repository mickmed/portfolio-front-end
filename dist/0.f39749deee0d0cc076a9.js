(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{67:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(0);c(68);const a=(e,t,c,a)=>{let o=Object(n.c)("div","project-img"),i=Object(n.c)("div","img-wrapper");o.appendChild(i);let d=Object(n.c)("div","inner-img-wrap");if(i.appendChild(d),d.appendChild(Object(n.c)("img","img")).src=e,!0===c){let e=d.appendChild(Object(n.c)("div","modal"));e.classList.add("project-modal","modal-slide");e.appendChild(Object(n.c)("span","modal-span")),e.childNodes[0].appendChild(Object(n.c)("h2","project-title"));e.childNodes[0].childNodes[0].innerText=t}return o}},68:function(e,t,c){var n=c(1),a=c(69);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},69:function(e,t,c){},70:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(3);const a=Object(n.a)();let o=async e=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e)},71:function(e,t,c){"use strict";c.d(t,"c",(function(){return o})),c.d(t,"a",(function(){return i})),c.d(t,"d",(function(){return d})),c.d(t,"b",(function(){return s}));var n=c(3);const a=Object(n.a)();let o=async()=>await fetch(`${a}/projects`).then(e=>e.json()).then(e=>e);const i=async e=>{console.log("ere"),console.log(JSON.stringify(e));const t=await fetch(`${a}/projects`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)},d=async(e,t)=>{console.log(JSON.stringify(e));await fetch(`${a}/projects/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},s=async e=>{const t=await fetch(`${a}/projects/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)}},72:function(e,t,c){"use strict";c.d(t,"c",(function(){return a})),c.d(t,"d",(function(){return o})),c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return d})),c.d(t,"e",(function(){return s}));var n=c(0);const a=e=>{let t=Object(n.d)("form");return t.className=e,t},o=e=>{const{className:t,name:c,type:a,value:o,placeholder:i,handleChange:d}=e;let s=Object(n.d)("input");return s.className=t,s.name=c,s.type=a,s.value=o,s.placeholder=i,s.addEventListener("keyup",e=>{d(e)}),s},i=(e,t,c)=>{let a=Object(n.c)("button",e);return a.type=t,a.innerText=c,a},d=e=>{let{className:t,name:c,id:a,value:o,checked:i}=e;console.log(i);let d=Object(n.d)("input");return t=t,d.name=c,d.id=a,d.value=o,d.type="checkbox","checked"===i&&d.setAttribute("checked",""),d},s=(e,t,c)=>{let a=Object(n.d)("label");return a.className=e,a.for=c,a.innerHTML=t,a}},75:function(e,t,c){"use strict";c.r(t),c.d(t,"Projects",(function(){return r}));var n=c(0),a=c(4),o=(c(70),c(67)),i=c(71),d=c(72),s=c(76);c(77);const l=e=>{for(;e.childNodes.length;)e.removeChild(e.lastChild)};async function r(){let e=Object(n.e)(".main-content-scrollable");l(e),Object(n.b)(e,Object(n.c)("div","loading")).innerHTML="loading...",l(e);const t=await Object(i.c)();if(t.forEach(async(t,c)=>{let l=e.appendChild(Object(n.c)("div","project-wrap")),p=(l.appendChild(Object(o.a)(`src/img/${t.img_url}`,t.name,!0,t.site_url)),"false"),h=Object(n.c)("div","link-modal"),u=Object(n.f)(".img-wrapper"),j=Object(n.f)(".inner-img-wrap"),b=Object(n.c)("div","tech-icons");t.technologies.forEach(e=>{b.appendChild(Object(n.c)("img","tech-icon")).src=`src/img/${e.icon_url}`}),h.appendChild(b);let m=h.appendChild(Object(n.c)("div","link-modal-icons"));if(m.innerHTML=`<a href=${t.site_url} target='_blank'><i class="fas fa-home fa-fw"></i></a>`,u[c].addEventListener("click",async()=>{if("true"===p)p="false",j[c].classList.add("close-curtain"),j[c].classList.remove("open-curtain"),u[c].lastChild.remove();else if("false"===p){p="true",j[c].classList.add("open-curtain"),j[c].classList.remove("close-curtain"),u[c].appendChild(h),u[c].style.setProperty("--animation","animate-img-wrapper 1.5s linear forwards"),j[c].appendChild(m)}}),await Object(a.d)()){const e=Object(n.c)("div","edit-project-wrapper"),c=Object(d.a)("show-edit-button","submit","update");c.addEventListener("click",()=>{console.log(l.lastChild.className),"edit-project-form"!==l.lastChild.className?Object(s.EditProject)(l,t):l.lastChild.remove()}),e.appendChild(c);const a=Object(d.a)("delete-project","submit","delete");a.addEventListener("click",async()=>{let e=confirm(`Are you sure you want to delete ${t.name}?`);e&&await Object(i.b)(t.id),e&&await r()}),e.appendChild(a),l.appendChild(e)}}),console.log("here"),await Object(a.d)()){let c=Object(d.a)("show-add-form","submit","add project");c.addEventListener("click",()=>{console.log(e.lastChild.className),"show-add-form"===e.lastChild.className?Object(s.EditProject)(e,t[0],"addProject"):e.lastChild.remove()}),Object(n.b)(e,c)}}},76:function(e,t,c){"use strict";c.r(t),c.d(t,"EditProject",(function(){return s}));var n=c(72),a=c(70),o=c(71),i=c(75),d=c(0);const s=async(e,t,c)=>{if(console.log("add",c),"addProject"===c)for(let e in t)t[e]="";let s={},l=e=>{s[e.target.name]=e.target.value},r=Object(n.c)("edit-project-form"),p=Object(d.c)("div","edit-form-inputs");r.appendChild(p),Object.keys(t).forEach(e=>{if("id"!==e&&"technologies"!==e&&"created_at"!==e&&"updated_at"!==e){s[e]=t[e];const a=Object(n.d)({className:"edit-form-input",name:e,type:"text",value:"addProject"===c?"":s[e],placeholder:e,handleChange:l});p.appendChild(a)}});const h=Object(d.c)("div","edit-form-checkboxes");r.appendChild(h),(await Object(a.a)()).map(e=>{let a;void 0===c&&t.technologies.forEach(t=>{e.name===t.name&&(console.log(e.name,t.name),a="checked")});let o=Object(n.b)({className:"edit-project-chkbox",name:e.name,id:e.name,value:e.id,checked:"addProject"===c?"":a});h.appendChild(o),h.appendChild(Object(n.e)("tech-box-label",e.name,"tech-box"))}),r.appendChild(Object(n.a)("edit-project-button","submit","addProject"===c?"add new project":"submit")),Object(d.b)(e,r),r.addEventListener("submit",async e=>{e.preventDefault(),console.log("add",c);const n=document.querySelectorAll("input[type=checkbox]:checked");console.log(n),s.technologies=[],n.forEach(e=>{s.technologies.push(e.value)}),console.log("add",c),"addProject"===c?await Object(o.a)(s):await Object(o.d)(s,t.id),await Object(i.Projects)()})}},77:function(e,t,c){var n=c(1),a=c(78);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},78:function(e,t,c){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaGFyZWQvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL2ltYWdlLnNjc3M/NDQ2MSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL0Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvRWRpdFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvcHJvamVjdHMuc2NzcyJdLCJuYW1lcyI6WyJJbWFnZSIsInNyYyIsInRpdGxlIiwibW9kYWwiLCJzaXRlX3VybCIsInByb2plY3RJbWciLCJpbWdXcmFwcGVyIiwiYXBwZW5kQ2hpbGQiLCJkaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJjaGlsZE5vZGVzIiwiaW5uZXJUZXh0IiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJiYXNlVXJsIiwiZ2V0VGVjaG5vbG9naWVzIiwiYXN5bmMiLCJ0eXBlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImFucyIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsImhlYWRlcnMiLCJkYXRhIiwidXBkYXRlUHJvamVjdCIsImlkIiwiZGVsZXRlUHJvamVjdCIsIkZvcm0iLCJjbGFzc05hbWUiLCJmb3JtIiwiSW5wdXQiLCJpbnB1dEF0dHMiLCJuYW1lIiwidmFsdWUiLCJwbGFjZWhvbGRlciIsImhhbmRsZUNoYW5nZSIsImlucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJCdXR0b24iLCJidG4iLCJDaGVja2JveCIsImNoZWNrZWQiLCJjaGtCb3giLCJzZXRBdHRyaWJ1dGUiLCJMYWJlbCIsImxhYmVsIiwiZm9yIiwiaW5uZXJIVE1MIiwiY2xlYXJQYWdlIiwiZWxlbWVudCIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiUHJvamVjdHMiLCJtYWluQ29udGVudCIsInJlc3AiLCJmb3JFYWNoIiwicHJvamVjdCIsImluZGV4IiwicHJvamVjdFdyYXAiLCJib29sIiwiaW1nX3VybCIsImxpbmtNb2RhbCIsImlubmVySW1nV3JhcCIsInRlY2hJY29ucyIsInRlY2hub2xvZ2llcyIsImljb24iLCJpY29uX3VybCIsImxpbmtNb2RhbEljb25zIiwicmVtb3ZlIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImVkaXRQcm9qZWN0V3JhcHBlciIsImVkaXRCdXR0b24iLCJkZWxldGVCdXR0b24iLCJhbnN3ZXIiLCJjb25maXJtIiwiYWRkQnRuIiwiRWRpdFByb2plY3QiLCJpdGVtIiwibmV3UHJvamVjdCIsInRhcmdldCIsImlucHV0cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJjaGVja3MiLCJtYXAiLCJ0ZWNobm9sb2d5IiwidW5kZWZpbmVkIiwicHJvamVjdFRlY2hub2xvZ3kiLCJieCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tib3hlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImJveCIsInB1c2giXSwibWFwcGluZ3MiOiJ5RkFBQSxtREFFTyxNQUFNQSxFQUFRLENBQUNDLEVBQUtDLEVBQU9DLEVBQU9DLEtBRXZDLElBQUlDLEVBQWEsWUFBSyxNQUFPLGVBRXpCQyxFQUFhLFlBQUssTUFBTyxlQUM3QkQsRUFBV0UsWUFBWUQsR0FDdkIsSUFBSUUsRUFBTSxZQUFLLE1B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SyxZQUFTLENBQ2hCaEUsVUFBVyxzQkFDWEksS0FBTXlELEVBQVd6RCxLQUNqQlAsR0FBSWdFLEVBQVd6RCxLQUNmQyxNQUFRd0QsRUFBV2hFLEdBQ25CaUIsUUFBd0IsZUFBZjNCLEVBQThCLEdBQUsyQixJQUc5QzZDLEVBQU9sRyxZQUFZdUcsR0FDbkJMLEVBQU9sRyxZQUFZLFlBQU0saUJBQWtCb0csRUFBV3pELEtBQU0sZUFHOURILEVBQUt4QyxZQUNILFlBQ0Usc0JBQ0EsU0FDZSxlQUFmMEIsRUFBOEIsa0JBQW9CLFdBS3RELFlBQUc2QyxFQUFhL0IsR0FNaEJBLEVBQUtRLGlCQUFpQixTQUFVOUIsTUFBT3NGLElBQ3JDQSxFQUFJQyxpQkFDSjdFLFFBQVFDLElBQUksTUFBT0gsR0FFbkIsTUFBTWdGLEVBQWFDLFNBQVNDLGlCQUFpQixnQ0FDN0NoRixRQUFRQyxJQUFJNkUsR0FDWmQsRUFBV2YsYUFBZSxHQUMxQjZCLEVBQVd0QyxRQUFTeUMsSUFDbEJqQixFQUFXZixhQUFhaUMsS0FBS0QsRUFBSWpFLFNBRW5DaEIsUUFBUUMsSUFBSSxNQUFPSCxHQUNKLGVBQWZBLFFBQ1UsWUFBY2tFLFNBQ2QsWUFBY0EsRUFBWXZCLEVBQVFqQyxVQUV0Qyx5QixtQkMzR1YsSUFBSTlCLEVBQU0sRUFBUSxHQUNGQyxFQUFVLEVBQVEsSUFJQyxpQkFGdkJBLEVBQVVBLEVBQVFDLFdBQWFELEVBQVFFLFFBQVVGLEtBRy9DQSxFQUFVLENBQUMsQ0FBQ0csRUFBT0MsRUFBSUosRUFBUyxNQUc5QyxJQUFJSyxFQUFVLENBRWQsT0FBaUIsT0FDakIsV0FBb0IsR0FJaEJDLEdBRlNQLEVBQUlDLEVBQVNLLEdBRVhMLEVBQVFPLE9BQVNQLEVBQVFPLE9BQVMsSUFJakRKLEVBQU9LLFFBQVVGLEciLCJmaWxlIjoiMC5mMzk3NDlkZWVlMGQwY2MwNzZhOS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNlY2wsIHFzIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyLmpzXCJcbmltcG9ydCBcIi4vaW1hZ2Uuc2Nzc1wiXG5leHBvcnQgY29uc3QgSW1hZ2UgPSAoc3JjLCB0aXRsZSwgbW9kYWwsIHNpdGVfdXJsKSA9PiB7XG4gIC8vIGNvbnNvbGUubG9nKHNyYylcbiAgbGV0IHByb2plY3RJbWcgPSBjZWNsKFwiZGl2XCIsIFwicHJvamVjdC1pbWdcIilcblxuICBsZXQgaW1nV3JhcHBlciA9IGNlY2woXCJkaXZcIiwgXCJpbWctd3JhcHBlclwiKVxuICBwcm9qZWN0SW1nLmFwcGVuZENoaWxkKGltZ1dyYXBwZXIpXG4gIGxldCBkaXYgPSBjZWNsKFwiZGl2XCIsIFwiaW5uZXItaW1nLXdyYXBcIilcbiAgaW1nV3JhcHBlci5hcHBlbmRDaGlsZChkaXYpXG5cblxuICBsZXQgaW1nID0gZGl2LmFwcGVuZENoaWxkKGNlY2woXCJpbWdcIiwgXCJpbWdcIikpXG4gIGltZy5zcmMgPSBzcmNcblxuXG4gIGlmIChtb2RhbCA9PT0gdHJ1ZSkge1xuICAgIGxldCBtb2RhbCA9IGRpdi5hcHBlbmRDaGlsZChjZWNsKFwiZGl2XCIsIFwibW9kYWxcIikpXG4gICAgbW9kYWwuY2xhc3NMaXN0LmFkZChcInByb2plY3QtbW9kYWxcIiwgXCJtb2RhbC1zbGlkZVwiKVxuICAgIGxldCBtb2RhbFNwYW4gPSBtb2RhbC5hcHBlbmRDaGlsZChjZWNsKFwic3BhblwiLCBcIm1vZGFsLXNwYW5cIikpXG4gICAgbGV0IGgyID0gbW9kYWwuY2hpbGROb2Rlc1swXS5hcHBlbmRDaGlsZChjZWNsKFwiaDJcIiwgXCJwcm9qZWN0LXRpdGxlXCIpKVxuICAgIG1vZGFsLmNoaWxkTm9kZXNbMF0uY2hpbGROb2Rlc1swXS5pbm5lclRleHQgPSB0aXRsZVxuXG4gICAgLy8gY29uc29sZS5sb2coXCJwcm9qZWN0dGl0bGVcIiwgaDIpXG4gICAgLy8gaWYgKGltZy5oZWlnaHQgPiBpbWcud2lkdGgpIHtcbiAgICAvLyAgIG1vZGFsU3Bhbi5zdHlsZS50cmFuc2Zvcm0gPSBcInNrZXcoLTEwZGVnKSB0cmFuc2xhdGVYKC0zMCUpXCJcbiAgICAvLyAgIG1vZGFsU3Bhbi5zdHlsZS53aWR0aCA9ICc2MCUnXG4gICAgLy8gICBoMi5zdHlsZS50cmFuc2Zvcm0gPSBcInNrZXcoMTBkZWcpIHRyYW5zbGF0ZSgxJSlcIlxuICAgIC8vICAgY29uc29sZS5sb2cod2luZG93LmlubmVyV2lkdGgpXG4gICAgLy8gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCk9PntcbiAgICAvLyAgICAgICBpZih3aW5kb3cuaW5uZXJXaWR0aCA+IDYwMCl7XG4gICAgLy8gICAgIGltZ1dyYXBwZXIuc3R5bGUud2lkdGggPSAnNDAlJ1xuICAgIC8vICAgfWVsc2V7XG4gICAgLy8gICAgIGltZ1dyYXBwZXIuc3R5bGUud2lkdGggPSAnNzAlJ1xuICAgIC8vICAgfVxuICAgIC8vICAgfSlcbiAgICBcbiAgICAvLyAgIC8vIGltZ1dyYXBwZXIuc3R5bGUud2lkdGggPSAnNDAlJ1xuICAgIC8vICAgLy8gaDIuc3R5bGUuXG4gICAgLy8gfVxuICAgIFxuXG4gIFxuXG4gICAgLy8gbGlua01vZGFsTW9yZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgZXZ0ID0+IHtcbiAgICAvLyAgIGxldCByZXMgPSBhd2FpdCBzaG93U2luZ2xlSXRlbW0oZXZ0LCBlLCBcInByb2plY3RzXCIpO1xuXG4gICAgLy8gICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGVudFwiKS5pbm5lckhUTUwgPSBcIlwiO1xuICAgIC8vICAgbmF2YmFyKHsgcHJvamVjdDogZSB9KTtcbiAgICAvLyAgIHByb2plY3RzKFwicHJvamVjdFwiLCB7XG4gICAgLy8gICAgIHByb2plY3Q6IGUsXG4gICAgLy8gICAgIHRlY2hub2xvZ2llczogcmVzLnRlY2hub2xvZ2llcyxcbiAgICAvLyAgICAgdHJhaXRzOiByZXMudHJhaXRzXG4gICAgLy8gICB9KTtcbiAgICAvLyAgIHRlY2hub2xvZ2llcyhcInRlY2hub2xvZ2llc1wiLCB7IHRlY2hub2xvZ2llczogcmVzLnRlY2hub2xvZ2llcyB9KTtcbiAgICAvLyB9KTtcblxuICAgIC8vIGxldCBsaW5rTW9kYWxTaXRlQnRuID0gbWFrZUVsZW1lbnQoXCJidXR0b25cIiwgXCJzaXRlLWJ1dHRvblwiLCBsaW5rTW9kYWwsIHtcbiAgICAvLyAgIGlubmVyVGV4dDogXCJ2aXNpdCBzaXRlXCJcbiAgICAvLyB9KTtcbiAgICAvLyBsaW5rTW9kYWxTaXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldnQgPT4ge1xuICAgIC8vICAgbG9jYXRpb24uaHJlZiA9IGUuc2l0ZV91cmw7XG4gICAgLy8gICB0YXJnZXQgPSBcIl9ibGFua1wiO1xuICAgIC8vIH0pO1xuICB9XG5cbiAgcmV0dXJuIHByb2plY3RJbWdcbn1cbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2ltYWdlLnNjc3NcIik7XG5cbiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50Ll9fZXNNb2R1bGUgPyBjb250ZW50LmRlZmF1bHQgOiBjb250ZW50O1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgIH1cblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cbnZhciBleHBvcnRlZCA9IGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB7fTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0ZWQ7IiwiaW1wb3J0IHsgQmFzZVVybH0gZnJvbSAnLi9CYXNlVXJsLmpzJ1xuY29uc3QgYmFzZVVybCA9IEJhc2VVcmwoKVxuXG5cblxuXG5leHBvcnQgbGV0IGdldFRlY2hub2xvZ2llcyA9IGFzeW5jICh0eXBlKSA9PiB7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vdGVjaG5vbG9naWVzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgIFxuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChhbnMpID0+IHtcbiAgICAgIHJldHVybiBhbnNcbiAgICB9KVxuXG4gIHJldHVybiB0eXBlLCByZXN1bHRzXG59IiwiaW1wb3J0IHsgQmFzZVVybH0gZnJvbSAnLi9CYXNlVXJsLmpzJ1xuY29uc3QgYmFzZVVybCA9IEJhc2VVcmwoKVxuXG5cbmV4cG9ydCBsZXQgZ2V0UHJvamVjdHMgPSBhc3luYyAoKSA9PiB7XG4gIGxldCByZXN1bHRzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHNgKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChhbnMpID0+IHtcbiAgICAgIHJldHVybiBhbnNcbiAgICB9KVxuXG4gIHJldHVybiByZXN1bHRzXG59XG5cbmV4cG9ydCBsZXQgZ2V0UHJvamVjdCA9IGFzeW5jIChpZCkgPT4ge1xuICBsZXQgcmVzdWx0ID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICB9KVxuICAgIC50aGVuKChhbnMpID0+IHtcbiAgICAgIHJldHVybiBhbnNcbiAgICB9KVxuXG4gIHJldHVybiByZXN1bHRcbn1cblxuXG5cbmV4cG9ydCBjb25zdCBhZGRQcm9qZWN0ID0gYXN5bmMgKGJvZHkpID0+IHtcbiAgY29uc29sZS5sb2coJ2VyZScpXG4gIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KGJvZHkpKVxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0c2AsIHtcbiAgICBtZXRob2Q6IGBwb3N0YCxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgfSlcbiAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9KVxuICBjb25zb2xlLmxvZyhyZXMpXG59XG5cblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVByb2plY3QgPSBhc3luYyAoYm9keSwgaWQpID0+IHtcbiAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYHB1dGAsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgIH0pXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgfSlcbiBcbiAgfVxuLy9cbiAgZXhwb3J0IGNvbnN0IGRlbGV0ZVByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcblxuICBcbiAgIFxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzLyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiBgZGVsZXRlYCxcbiAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gICAgfSlcbiAgICAgIC50aGVuKChqc29uKSA9PiB7XG4gICAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgICAgfSlcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiBkYXRhXG4gICAgICB9KVxuICAgIGNvbnNvbGUubG9nKHJlcylcbiAgfVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0VGVjaG5vbG9naWVzID0gYXN5bmMocHJvamVjdF9pZCwgaWQpPT57XG4gIGNvbnNvbGUubG9nKCd1cHQnKVxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke3Byb2plY3RfaWR9L3RlY2hub2xvZ2llcy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6IGBwdXRgLFxuICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9XG4gIH0pXG4gIC50aGVuKChqc29uKSA9PiB7XG4gICAgcmV0dXJuIGpzb24uanNvbigpXG4gIH0pXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgcmV0dXJuIGRhdGFcbiAgfSlcbmNvbnNvbGUubG9nKHJlcylcblxufSIsImltcG9ydCB7IGNlLCBjcmVhdGVFbGVtZW50LCBjZWNsLCBhYywgYnRuIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyLmpzXCJcbi8vIGV4cG9ydCBjb25zdCBGb3JtID0gKG9iaiwgaGFuZGxlQ2hhbmdlLCBmb3JtQ2xhc3NOYW1lKSA9PiB7XG4vLyAgIGxldCBmb3JtID0gY2VjbChgZm9ybWAsIGZvcm1DbGFzc05hbWUpXG4vLyAgIGxldCBmb3JtSW5wdXRzID0gY2VjbChcImRpdlwiLCBcImlucHV0c1wiKVxuLy8gICAvLyBjb25zb2xlLmxvZyhmb3JtSW5wdXRzKVxuLy8gICBhYyhmb3JtLCBmb3JtSW5wdXRzKVxuLy8gICBsZXQgaW5wdXRzID0gT2JqZWN0LmtleXMob2JqKVxuLy8gICBpbnB1dHMubWFwKChlbCkgPT4ge1xuLy8gICAgIGxldCBpbnB1dCA9IGNlY2woYGlucHV0YCwgZWwpXG4vLyAgICAgZm9ybUlucHV0cy5hcHBlbmQoaW5wdXQpXG4vLyAgICAgaW5wdXQubmFtZSA9IGVsXG4vLyAgICAgaW5wdXQudmFsdWUgPSBvYmogPyBvYmpbZWxdIDogXCJcIlxuLy8gICAgIGlucHV0LnBsYWNlaG9sZGVyID0gZWxcbi8vICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKGBrZXl1cGAsIChlKSA9PiB7XG4vLyAgICAgICBoYW5kbGVDaGFuZ2UoZSlcbi8vICAgICB9KVxuLy8gICB9KVxuLy8gICBmb3JtSW5wdXRzLmFwcGVuZENoaWxkKGJ0bihcInVwZGF0ZSBwcm9qZWN0XCIsIFwic3VibWl0XCIsIFwidXBkYXRlLWJ0blwiKSlcblxuLy8gICByZXR1cm4gZm9ybVxuLy8gfVxuXG5leHBvcnQgY29uc3QgRm9ybSA9IChjbGFzc05hbWUpID0+IHtcbiAgbGV0IGZvcm0gPSBjcmVhdGVFbGVtZW50KGBmb3JtYClcbiAgZm9ybS5jbGFzc05hbWUgPSBjbGFzc05hbWVcbiAgcmV0dXJuIGZvcm1cbn1cblxuZXhwb3J0IGNvbnN0IElucHV0ID0gKGlucHV0QXR0cykgPT4ge1xuICBjb25zdCB7Y2xhc3NOYW1lLCBuYW1lLCB0eXBlLCB2YWx1ZSwgcGxhY2Vob2xkZXIsIGhhbmRsZUNoYW5nZX0gPSBpbnB1dEF0dHNcbiAgbGV0IGlucHV0ID0gY3JlYXRlRWxlbWVudChgaW5wdXRgKVxuICBpbnB1dC5jbGFzc05hbWUgPSBjbGFzc05hbWVcbiAgaW5wdXQubmFtZSA9IG5hbWVcbiAgaW5wdXQudHlwZSA9IHR5cGVcbiAgaW5wdXQudmFsdWUgPSB2YWx1ZVxuICBpbnB1dC5wbGFjZWhvbGRlciA9IHBsYWNlaG9sZGVyXG5cbiAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihga2V5dXBgLCAoZSkgPT4ge1xuICBcbiAgICBoYW5kbGVDaGFuZ2UoZSlcbiAgfSlcblxuICByZXR1cm4gaW5wdXRcbn1cblxuZXhwb3J0IGNvbnN0IEJ1dHRvbiA9IChjbGFzc05hbWUsIHR5cGUsIGlubmVyVGV4dCkgPT4ge1xuICBsZXQgYnRuID0gY2VjbChcImJ1dHRvblwiLCBjbGFzc05hbWUpXG4gIGJ0bi50eXBlID0gdHlwZVxuICBidG4uaW5uZXJUZXh0ID0gaW5uZXJUZXh0XG4gIHJldHVybiBidG5cbn1cblxuZXhwb3J0IGNvbnN0IENoZWNrYm94ID0gKGlucHV0QXR0cykgPT4ge1xuICBsZXQge2NsYXNzTmFtZSwgbmFtZSwgaWQsIHZhbHVlLCBjaGVja2VkfSA9IGlucHV0QXR0c1xuY29uc29sZS5sb2coY2hlY2tlZClcbiAgbGV0IGNoa0JveCA9IGNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKVxuICBjbGFzc05hbWUgPSBjbGFzc05hbWVcbiAgY2hrQm94Lm5hbWUgPSBuYW1lXG4gIGNoa0JveC5pZCA9IGlkXG4gIGNoa0JveC52YWx1ZSA9IHZhbHVlXG4gIGNoa0JveC50eXBlID0gXCJjaGVja2JveFwiXG5cbiAgY2hlY2tlZCA9PT0gXCJjaGVja2VkXCIgJiYgY2hrQm94LnNldEF0dHJpYnV0ZShcImNoZWNrZWRcIiwgXCJcIilcblxuICBcblxuICByZXR1cm4gY2hrQm94XG59XG5cbmV4cG9ydCBjb25zdCBMYWJlbCA9IChjbGFzc05hbWUsIG5hbWUsIGlkKSA9PiB7XG4gIGxldCBsYWJlbCA9IGNyZWF0ZUVsZW1lbnQoJ2xhYmVsJylcbiAgbGFiZWwuY2xhc3NOYW1lID0gY2xhc3NOYW1lXG4gIGxhYmVsLmZvciA9IGlkXG4gIGxhYmVsLmlubmVySFRNTCA9IG5hbWVcbiAgcmV0dXJuIGxhYmVsXG59XG4iLCIvLyBpbXBvcnQgXCIuLi9TaGFyZWQvSW1hZ2VcIlxuaW1wb3J0IHsgcXMsIHFzYSwgY2VjbCwgYWMsIGJ0biB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlclwiXG5pbXBvcnQgeyB2ZXJpZnkgfSBmcm9tIFwiLi4vU2VydmljZXMvQXBpQXV0aC5qc1wiXG5pbXBvcnQgeyBnZXRUZWNobm9sb2dpZXMgfSBmcm9tIFwiLi4vU2VydmljZXMvQXBpVGVjaC5qc1wiXG5pbXBvcnQgeyBJbWFnZSB9IGZyb20gXCIuLi9TaGFyZWQvSW1hZ2UuanNcIlxuXG5pbXBvcnQge1xuICBnZXRQcm9qZWN0cyxcbiAgYWRkUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdCxcbiAgZGVsZXRlUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVByb2plY3QuanNcIlxuaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiwgQ2hlY2tib3gsIExhYmVsIH0gZnJvbSBcIi4uL1NoYXJlZC9Gb3JtLmpzXCJcbmltcG9ydCB7IEVkaXRQcm9qZWN0IH0gZnJvbSBcIi4vRWRpdFByb2plY3RcIlxuaW1wb3J0IFwiLi9wcm9qZWN0cy5zY3NzXCJcblxuLyoqKioqKioqKipcbiBDTEVBUiBQQUdFXG4qKioqKioqKioqKi9cbmNvbnN0IGNsZWFyUGFnZSA9IChlbGVtZW50KSA9PiB7XG4gIHdoaWxlIChlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Lmxhc3RDaGlsZClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUHJvamVjdHMoKSB7XG4gIGxldCBtYWluQ29udGVudCA9IHFzKFwiLm1haW4tY29udGVudC1zY3JvbGxhYmxlXCIpXG4gIGNsZWFyUGFnZShtYWluQ29udGVudClcbiAgbGV0IGxvYWRpbmcgPSBhYyhtYWluQ29udGVudCwgY2VjbChcImRpdlwiLCBcImxvYWRpbmdcIikpXG4gIGxvYWRpbmcuaW5uZXJIVE1MID0gXCJsb2FkaW5nLi4uXCJcblxuICAvKioqKioqKioqKioqKipcbiAgUkVOREVSIFBST0pFQ1RTXG4gICoqKioqKioqKioqKioqKi9cbiAgY2xlYXJQYWdlKG1haW5Db250ZW50KVxuICBjb25zdCByZXNwID0gYXdhaXQgZ2V0UHJvamVjdHMoKVxuICByZXNwLmZvckVhY2goYXN5bmMgKHByb2plY3QsIGluZGV4KSA9PiB7XG4gICAgbGV0IHByb2plY3RXcmFwID0gbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcInByb2plY3Qtd3JhcFwiKSlcbiAgICBsZXQgaW1hZ2UgPSBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChcbiAgICAgIEltYWdlKGBzcmMvaW1nLyR7cHJvamVjdC5pbWdfdXJsfWAsIHByb2plY3QubmFtZSwgdHJ1ZSwgcHJvamVjdC5zaXRlX3VybClcbiAgICApXG4gICAgbGV0IGJvb2wgPSBcImZhbHNlXCJcbiAgICBsZXQgbGlua01vZGFsID0gY2VjbChcImRpdlwiLCBcImxpbmstbW9kYWxcIilcblxuICAgIGxldCBpbWdXcmFwcGVyID0gcXNhKFwiLmltZy13cmFwcGVyXCIpXG4gICAgbGV0IGlubmVySW1nV3JhcCA9IHFzYShcIi5pbm5lci1pbWctd3JhcFwiKVxuICAgIGxldCB0ZWNoSWNvbnMgPSBjZWNsKFwiZGl2XCIsIFwidGVjaC1pY29uc1wiKVxuICAgIHByb2plY3QudGVjaG5vbG9naWVzLmZvckVhY2goKGljb24pID0+IHtcbiAgICAgIGxldCB0ZWNoSWNvbiA9IHRlY2hJY29ucy5hcHBlbmRDaGlsZChjZWNsKFwiaW1nXCIsIFwidGVjaC1pY29uXCIpKVxuICAgICAgdGVjaEljb24uc3JjID0gYHNyYy9pbWcvJHtpY29uLmljb25fdXJsfWBcbiAgICB9KVxuICAgIGxpbmtNb2RhbC5hcHBlbmRDaGlsZCh0ZWNoSWNvbnMpXG4gICAgbGV0IGxpbmtNb2RhbEljb25zID0gbGlua01vZGFsLmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJsaW5rLW1vZGFsLWljb25zXCIpKVxuICAgIGxpbmtNb2RhbEljb25zLmlubmVySFRNTCA9IGA8YSBocmVmPSR7cHJvamVjdC5zaXRlX3VybH0gdGFyZ2V0PSdfYmxhbmsnPjxpIGNsYXNzPVwiZmFzIGZhLWhvbWUgZmEtZndcIj48L2k+PC9hPmBcblxuICAgIC8qKioqKioqKioqKioqKlxuICAgIEFERCBMSU5LIE1PREFMXG4gICAgKioqKioqKioqKioqKioqL1xuICAgIGltZ1dyYXBwZXJbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoYm9vbCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgYm9vbCA9IFwiZmFsc2VcIlxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJjbG9zZS1jdXJ0YWluXCIpXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tY3VydGFpblwiKVxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgIH0gZWxzZSBpZiAoYm9vbCA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgIGJvb2wgPSBcInRydWVcIlxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJvcGVuLWN1cnRhaW5cIilcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKFwiY2xvc2UtY3VydGFpblwiKVxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5hcHBlbmRDaGlsZChsaW5rTW9kYWwpXG4gICAgICAgIC8vIGxldCBzdHlsZUVsZW0gPSBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSk7XG4gICAgICAgIC8vIHN0eWxlRWxlbS5pbm5lckhUTUwgPSBcIi5pbWctd3JhcHBlcjpiZWZvcmUge2FuaW1hdGlvbjogYW5pbWF0ZS1pbWctd3JhcHBlciAxLjVzIGxpbmVhciBmb3J3YXJkczt9XCJcbiAgICAgICAgbGV0IGl3ID0gaW1nV3JhcHBlcltpbmRleF0uc3R5bGVcbiAgICAgICAgaXcuc2V0UHJvcGVydHkoXG4gICAgICAgICAgXCItLWFuaW1hdGlvblwiLFxuICAgICAgICAgIFwiYW5pbWF0ZS1pbWctd3JhcHBlciAxLjVzIGxpbmVhciBmb3J3YXJkc1wiXG4gICAgICAgIClcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5hcHBlbmRDaGlsZChsaW5rTW9kYWxJY29ucylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKipcbiAgICAgRURJVCBQUk9KRUNUIEJVVFRPTlxuICAgICoqKioqKioqKioqKioqKioqKioqL1xuICAgIGlmIChhd2FpdCB2ZXJpZnkoKSkge1xuICAgICAgY29uc3QgZWRpdFByb2plY3RXcmFwcGVyID0gY2VjbChcImRpdlwiLCBcImVkaXQtcHJvamVjdC13cmFwcGVyXCIpXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gQnV0dG9uKFwic2hvdy1lZGl0LWJ1dHRvblwiLCBcInN1Ym1pdFwiLCBcInVwZGF0ZVwiKVxuICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0V3JhcC5sYXN0Q2hpbGQuY2xhc3NOYW1lKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvamVjdFdyYXAubGFzdENoaWxkLmNsYXNzTmFtZSAhPT0gXCJlZGl0LXByb2plY3QtZm9ybVwiXG4gICAgICAgIClcbiAgICAgICAgICBFZGl0UHJvamVjdChwcm9qZWN0V3JhcCwgcHJvamVjdClcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcHJvamVjdFdyYXAubGFzdENoaWxkLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBlZGl0UHJvamVjdFdyYXBwZXIuYXBwZW5kQ2hpbGQoZWRpdEJ1dHRvbilcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgREVMRVRFIFBST0pFQ1QgQlVUVE9OXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gQnV0dG9uKFwiZGVsZXRlLXByb2plY3RcIiwgXCJzdWJtaXRcIiwgXCJkZWxldGVcIilcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYW5zd2VyID0gY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke3Byb2plY3QubmFtZX0/YClcbiAgICAgICAgYW5zd2VyICYmIGF3YWl0IGRlbGV0ZVByb2plY3QocHJvamVjdC5pZClcbiAgICAgICAgYW5zd2VyICYmIGF3YWl0IFByb2plY3RzKClcbiAgICAgIH0pXG4gICAgICBlZGl0UHJvamVjdFdyYXBwZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKVxuXG4gICAgICBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChlZGl0UHJvamVjdFdyYXBwZXIpXG4gICAgfVxuICB9KVxuXG4gIC8qKioqKioqKioqKlxuICBBREQgUFJPSkVDVCBcbiAgKioqKioqKioqKioqL1xuICBjb25zb2xlLmxvZyhcImhlcmVcIilcbiAgaWYgKGF3YWl0IHZlcmlmeSgpKSB7XG4gICAgbGV0IGFkZEJ0biA9IEJ1dHRvbihcInNob3ctYWRkLWZvcm1cIiwgXCJzdWJtaXRcIiwgXCJhZGQgcHJvamVjdFwiKVxuICAgIGFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgY29uc29sZS5sb2cobWFpbkNvbnRlbnQubGFzdENoaWxkLmNsYXNzTmFtZSlcbiAgICAgIGlmIChtYWluQ29udGVudC5sYXN0Q2hpbGQuY2xhc3NOYW1lID09PSBcInNob3ctYWRkLWZvcm1cIilcbiAgICAgICAgRWRpdFByb2plY3QobWFpbkNvbnRlbnQsIHJlc3BbMF0sIFwiYWRkUHJvamVjdFwiKVxuICAgICAgZWxzZSB7XG4gICAgICAgIG1haW5Db250ZW50Lmxhc3RDaGlsZC5yZW1vdmUoKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBhYyhtYWluQ29udGVudCwgYWRkQnRuKVxuICB9XG59XG4iLCJpbXBvcnQgeyBGb3JtLCBJbnB1dCwgQnV0dG9uLCBDaGVja2JveCwgTGFiZWwgfSBmcm9tIFwiLi4vU2hhcmVkL0Zvcm0uanNcIlxuaW1wb3J0IHsgZ2V0VGVjaG5vbG9naWVzIH0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVRlY2guanNcIlxuaW1wb3J0IHtcbiAgZ2V0UHJvamVjdCxcbiAgYWRkUHJvamVjdCBhcyBhZGROZXdQcm9qZWN0LFxuICB1cGRhdGVQcm9qZWN0LFxuICBkZWxldGVQcm9qZWN0LFxuICB1cGRhdGVQcm9qZWN0VGVjaG5vbG9naWVzLFxufSBmcm9tIFwiLi4vU2VydmljZXMvQXBpUHJvamVjdC5qc1wiXG5pbXBvcnQgeyBQcm9qZWN0cyB9IGZyb20gXCIuL1Byb2plY3RzLmpzXCJcbmltcG9ydCB7IGFjLCBjZWNsIH0gZnJvbSBcIi4uL0hlbHBlcnMvZG9tSGVscGVyLmpzXCJcblxuZXhwb3J0IGNvbnN0IEVkaXRQcm9qZWN0ID0gYXN5bmMgKHByb2plY3RXcmFwLCBwcm9qZWN0LCBhZGRQcm9qZWN0KSA9PiB7XG4gIC8qKioqKioqKioqKioqKioqKioqKioqKipcbiAgTUFLRSBBTkQgU0VUIEZPUk0gIElOUFVUU1xuICAqKioqKioqKioqKioqKioqKioqKioqKioqL1xuICBjb25zb2xlLmxvZyhcImFkZFwiLCBhZGRQcm9qZWN0KVxuICBpZiAoYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIpIHtcbiAgICBmb3IgKGxldCBpdGVtIGluIHByb2plY3QpIHtcbiAgICAgIHByb2plY3RbaXRlbV0gPSBcIlwiXG4gICAgfVxuICB9XG4gIGxldCBuZXdQcm9qZWN0ID0ge31cbiAgbGV0IGhhbmRsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgbmV3UHJvamVjdFtlLnRhcmdldC5uYW1lXSA9IGUudGFyZ2V0LnZhbHVlXG4gIH1cbiAgbGV0IGZvcm0gPSBGb3JtKFwiZWRpdC1wcm9qZWN0LWZvcm1cIilcbiAgbGV0IGlucHV0cyA9IGNlY2woJ2RpdicsICdlZGl0LWZvcm0taW5wdXRzJylcbiAgZm9ybS5hcHBlbmRDaGlsZChpbnB1dHMpXG4gIE9iamVjdC5rZXlzKHByb2plY3QpLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGlmIChcbiAgICAgIGtleSAhPT0gXCJpZFwiICYmXG4gICAgICBrZXkgIT09IFwidGVjaG5vbG9naWVzXCIgJiZcbiAgICAgIGtleSAhPT0gXCJjcmVhdGVkX2F0XCIgJiZcbiAgICAgIGtleSAhPT0gXCJ1cGRhdGVkX2F0XCJcbiAgICApIHtcbiAgICAgIG5ld1Byb2plY3Rba2V5XSA9IHByb2plY3Rba2V5XVxuICAgICAgY29uc3QgaW5wdXQgPSBJbnB1dCh7XG4gICAgICAgIGNsYXNzTmFtZTogXCJlZGl0LWZvcm0taW5wdXRcIixcbiAgICAgICAgbmFtZToga2V5LFxuICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgdmFsdWU6IGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiID8gXCJcIiA6IG5ld1Byb2plY3Rba2V5XSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IGtleSxcbiAgICAgICAgaGFuZGxlQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICB9KVxuICAgICAgaW5wdXRzLmFwcGVuZENoaWxkKGlucHV0KVxuICAgIH1cbiAgfSlcblxuICAvKioqKioqKioqKioqKipcbiAgIFNFVCBDSEVDS0JPWEVTXG4gICoqKioqKioqKioqKioqKi9cbiAgY29uc3QgY2hlY2tzID0gY2VjbCgnZGl2JywgJ2VkaXQtZm9ybS1jaGVja2JveGVzJylcbiAgZm9ybS5hcHBlbmRDaGlsZChjaGVja3MpXG4gIGxldCB0ZWNobm9sb2dpZXMgPSBhd2FpdCBnZXRUZWNobm9sb2dpZXMoKVxuICB0ZWNobm9sb2dpZXMubWFwKCh0ZWNobm9sb2d5KSA9PiB7XG4gICAgXG4gICAgbGV0IGNoZWNrZWRcbiAgICBhZGRQcm9qZWN0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgIHByb2plY3QudGVjaG5vbG9naWVzLmZvckVhY2goKHByb2plY3RUZWNobm9sb2d5KSA9PiB7XG4gICAgICAgIGlmICh0ZWNobm9sb2d5Lm5hbWUgPT09IHByb2plY3RUZWNobm9sb2d5Lm5hbWUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0ZWNobm9sb2d5Lm5hbWUsIHByb2plY3RUZWNobm9sb2d5Lm5hbWUpXG4gICAgICAgICAgY2hlY2tlZCA9IFwiY2hlY2tlZFwiXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgbGV0IGJ4ID0gQ2hlY2tib3goe1xuICAgICAgY2xhc3NOYW1lOiBcImVkaXQtcHJvamVjdC1jaGtib3hcIixcbiAgICAgIG5hbWU6IHRlY2hub2xvZ3kubmFtZSxcbiAgICAgIGlkOiB0ZWNobm9sb2d5Lm5hbWUsXG4gICAgICB2YWx1ZTogIHRlY2hub2xvZ3kuaWQsXG4gICAgICBjaGVja2VkOiBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiXCIgOiBjaGVja2VkLFxuXG4gICAgfSlcbiAgICBjaGVja3MuYXBwZW5kQ2hpbGQoYngpXG4gICAgY2hlY2tzLmFwcGVuZENoaWxkKExhYmVsKFwidGVjaC1ib3gtbGFiZWxcIiwgdGVjaG5vbG9neS5uYW1lLCBcInRlY2gtYm94XCIpKVxuICAgIFxuICB9KVxuICBmb3JtLmFwcGVuZENoaWxkKFxuICAgIEJ1dHRvbihcbiAgICAgIFwiZWRpdC1wcm9qZWN0LWJ1dHRvblwiLFxuICAgICAgXCJzdWJtaXRcIixcbiAgICAgIGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiID8gXCJhZGQgbmV3IHByb2plY3RcIiA6IFwic3VibWl0XCJcbiAgICApXG4gIClcblxuXG4gIGFjKHByb2plY3RXcmFwLCBmb3JtKVxuXG5cbiAgLyoqKioqKioqKipcbiAgIFNVQk1JVCBGT1JNXG4gICoqKioqKioqKioqL1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXN5bmMgKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coXCJhZGRcIiwgYWRkUHJvamVjdClcblxuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZFwiKVxuICAgIGNvbnNvbGUubG9nKGNoZWNrYm94ZXMpXG4gICAgbmV3UHJvamVjdC50ZWNobm9sb2dpZXMgPSBbXVxuICAgIGNoZWNrYm94ZXMuZm9yRWFjaCgoYm94KSA9PiB7XG4gICAgICBuZXdQcm9qZWN0LnRlY2hub2xvZ2llcy5wdXNoKGJveC52YWx1ZSlcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKFwiYWRkXCIsIGFkZFByb2plY3QpXG4gICAgYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCJcbiAgICAgID8gYXdhaXQgYWRkTmV3UHJvamVjdChuZXdQcm9qZWN0KVxuICAgICAgOiBhd2FpdCB1cGRhdGVQcm9qZWN0KG5ld1Byb2plY3QsIHByb2plY3QuaWQpXG5cbiAgICBhd2FpdCBQcm9qZWN0cygpXG4gIH0pXG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wcm9qZWN0cy5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyJdLCJzb3VyY2VSb290IjoiIn0=