(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{73:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(0);c(74);const a=(e,t,c,a)=>{let o=Object(n.c)("div","project-img"),i=Object(n.c)("div","img-wrapper");o.appendChild(i);let d=Object(n.c)("div","inner-img-wrap");if(i.appendChild(d),d.appendChild(Object(n.c)("img","img")).src=e,!0===c){let e=d.appendChild(Object(n.c)("div","modal"));e.classList.add("project-modal","modal-slide");e.appendChild(Object(n.c)("span","modal-span")),e.childNodes[0].appendChild(Object(n.c)("h2","project-title"));e.childNodes[0].childNodes[0].innerText=t}return o}},74:function(e,t,c){var n=c(1),a=c(75);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},75:function(e,t,c){},76:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(5);const a=Object(n.a)();let o=async e=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e)},77:function(e,t,c){"use strict";c.d(t,"c",(function(){return o})),c.d(t,"a",(function(){return i})),c.d(t,"d",(function(){return d})),c.d(t,"b",(function(){return s}));var n=c(5);const a=Object(n.a)();let o=async()=>await fetch(`${a}/projects`).then(e=>e.json()).then(e=>e);const i=async e=>{console.log("ere"),console.log(JSON.stringify(e));const t=await fetch(`${a}/projects`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)},d=async(e,t)=>{console.log(JSON.stringify(e));await fetch(`${a}/projects/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},s=async e=>{const t=await fetch(`${a}/projects/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)}},80:function(e,t,c){"use strict";c.r(t),c.d(t,"Projects",(function(){return p}));var n=c(0),a=c(6),o=(c(76),c(73)),i=c(3),d=c(77),s=c(4),l=c(81);c(82);const r=e=>{for(;e.childNodes.length;)e.removeChild(e.lastChild)};async function p(){let e=Object(n.e)(".main-content-scrollable");r(e),e.appendChild(Object(n.c)("div","loading")).innerHTML="loading...";const t=await Object(d.c)();r(e);const c=e.clientHeight;if(console.log(c),t.forEach(async(t,c)=>{let i=e.appendChild(Object(n.c)("div","project-wrap")),r=(i.appendChild(Object(o.a)(`src/img/${t.img_url}`,t.name,!0,t.site_url)),"false"),h=Object(n.c)("div","link-modal"),j=Object(n.f)(".img-wrapper"),u=Object(n.f)(".inner-img-wrap"),b=Object(n.c)("div","tech-icons");t.technologies.forEach(e=>{b.appendChild(Object(n.c)("img","tech-icon")).src=`src/img/${e.icon_url}`}),h.appendChild(b);let f=h.appendChild(Object(n.c)("div","link-modal-icons"));if(f.innerHTML=`<a href=${t.site_url} target='_blank'><i class="fas fa-home fa-fw"></i></a>`,j[c].addEventListener("click",async()=>{if("true"===r)r="false",u[c].classList.add("close-curtain"),u[c].classList.remove("open-curtain"),j[c].lastChild.remove();else if("false"===r){r="true",u[c].classList.add("open-curtain"),u[c].classList.remove("close-curtain"),j[c].appendChild(h),j[c].style.setProperty("--animation","animate-img-wrapper 1.5s linear forwards"),u[c].appendChild(f)}}),await Object(a.d)()){const e=Object(n.c)("div","edit-project-wrapper"),c=Object(s.a)("show-edit-button","submit","update");c.addEventListener("click",()=>{console.log(i.lastChild.className),"edit-project-form"!==i.lastChild.className?Object(l.EditProject)(i,t):i.lastChild.remove()}),e.appendChild(c);const a=Object(s.a)("delete-project","submit","delete");a.addEventListener("click",async()=>{let e=confirm(`Are you sure you want to delete ${t.name}?`);e&&await Object(d.b)(t.id),e&&await p()}),e.appendChild(a),i.appendChild(e)}}),await Object(a.d)()){let c=Object(s.a)("show-add-form","submit","add project");c.addEventListener("click",()=>{console.log(e.lastChild.className),"show-add-form"===e.lastChild.className?Object(l.EditProject)(e,t[0],"addProject"):e.lastChild.remove()}),Object(n.b)(e,c)}e.appendChild(Object(i.a)())}},81:function(e,t,c){"use strict";c.r(t),c.d(t,"EditProject",(function(){return s}));var n=c(4),a=c(76),o=c(77),i=c(80),d=c(0);const s=async(e,t,c)=>{if(console.log("add",c),"addProject"===c)for(let e in t)t[e]="";let s={},l=e=>{s[e.target.name]=e.target.value},r=Object(n.c)("edit-project-form"),p=Object(d.c)("div","edit-form-inputs");r.appendChild(p),Object.keys(t).forEach(e=>{if("id"!==e&&"technologies"!==e&&"created_at"!==e&&"updated_at"!==e){s[e]=t[e];const a=Object(n.d)({className:"edit-form-input",name:e,type:"text",value:"addProject"===c?"":s[e],placeholder:e,handleChange:l});p.appendChild(a)}});const h=Object(d.c)("div","edit-form-checkboxes");r.appendChild(h),(await Object(a.a)()).map(e=>{let a;void 0===c&&t.technologies.forEach(t=>{e.name===t.name&&(console.log(e.name,t.name),a="checked")});let o=Object(n.b)({className:"edit-project-chkbox",name:e.name,id:e.name,value:e.id,checked:"addProject"===c?"":a});h.appendChild(o),h.appendChild(Object(n.e)("tech-box-label",e.name,"tech-box"))}),r.appendChild(Object(n.a)("edit-project-button","submit","addProject"===c?"add new project":"submit")),Object(d.b)(e,r),r.addEventListener("submit",async e=>{e.preventDefault(),console.log("add",c);const n=document.querySelectorAll("input[type=checkbox]:checked");console.log(n),s.technologies=[],n.forEach(e=>{s.technologies.push(e.value)}),console.log("add",s),"addProject"===c?await Object(o.a)(s):await Object(o.d)(s,t.id),await Object(i.Projects)()})}},82:function(e,t,c){var n=c(1),a=c(83);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},83:function(e,t,c){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaGFyZWQvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL2ltYWdlLnNjc3M/NDQ2MSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvRWRpdFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvcHJvamVjdHMuc2NzcyJdLCJuYW1lcyI6WyJJbWFnZSIsInNyYyIsInRpdGxlIiwibW9kYWwiLCJzaXRlX3VybCIsInByb2plY3RJbWciLCJpbWdXcmFwcGVyIiwiYXBwZW5kQ2hpbGQiLCJkaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJjaGlsZE5vZGVzIiwiaW5uZXJUZXh0IiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJiYXNlVXJsIiwiZ2V0VGVjaG5vbG9naWVzIiwiYXN5bmMiLCJ0eXBlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImFucyIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsImhlYWRlcnMiLCJkYXRhIiwidXBkYXRlUHJvamVjdCIsImlkIiwiZGVsZXRlUHJvamVjdCIsImNsZWFyUGFnZSIsImVsZW1lbnQiLCJsZW5ndGgiLCJyZW1vdmVDaGlsZCIsImxhc3RDaGlsZCIsIlByb2plY3RzIiwibWFpbkNvbnRlbnQiLCJpbm5lckhUTUwiLCJyZXNwIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZm9yRWFjaCIsInByb2plY3QiLCJpbmRleCIsInByb2plY3RXcmFwIiwiYm9vbCIsImltZ191cmwiLCJuYW1lIiwibGlua01vZGFsIiwiaW5uZXJJbWdXcmFwIiwidGVjaEljb25zIiwidGVjaG5vbG9naWVzIiwiaWNvbiIsImljb25fdXJsIiwibGlua01vZGFsSWNvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImVkaXRQcm9qZWN0V3JhcHBlciIsImVkaXRCdXR0b24iLCJjbGFzc05hbWUiLCJkZWxldGVCdXR0b24iLCJhbnN3ZXIiLCJjb25maXJtIiwiYWRkQnRuIiwiRWRpdFByb2plY3QiLCJpdGVtIiwibmV3UHJvamVjdCIsImhhbmRsZUNoYW5nZSIsImUiLCJ0YXJnZXQiLCJ2YWx1ZSIsImZvcm0iLCJpbnB1dHMiLCJPYmplY3QiLCJrZXlzIiwia2V5IiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsImNoZWNrcyIsIm1hcCIsInRlY2hub2xvZ3kiLCJjaGVja2VkIiwidW5kZWZpbmVkIiwicHJvamVjdFRlY2hub2xvZ3kiLCJieCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tib3hlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImJveCIsInB1c2giXSwibWFwcGluZ3MiOiJ5RkFBQSxtREFFTyxNQUFNQSxFQUFRLENBQUNDLEVBQUtDLEVBQU9DLEVBQU9DLEtBRXZDLElBQUlDLEVBQWEsWUFBSyxNQUFPLGVBRXpCQyxFQUFhLFlBQUssTUFBTyxlQUM3QkQsRUFBV0UsWUFBWUQsR0FDdkIsSUFBSUUsRUFBTSxZQUFLLE1BQU8sa0JBUXRCLEdBUEFGLEVBQVdDLFlBQVlDLEdBR2JBLEVBQUlELFlBQVksWUFBSyxNQUFPLFFBQ2xDTixJQUFNQSxHQUdJLElBQVZFLEVBQWdCLENBQ2xCLElBQUlBLEVBQVFLLEVBQUlELFlBQVksWUFBSyxNQUFPLFVBQ3hDSixFQUFNTSxVQUFVQyxJQUFJLGdCQUFpQixlQUNyQlAsRUFBTUksWUFBWSxZQUFLLE9BQVEsZUFDdENKLEVBQU1RLFdBQVcsR0FBR0osWUFBWSxZQUFLLEtBQU0sa0JBQ3BESixFQUFNUSxXQUFXLEdBQUdBLFdBQVcsR0FBR0MsVUFBWVYsRUE2Q2hELE9BQU9HLEksbUJDbEVULElBQUlRLEVBQU0sRUFBUSxHQUNGQyxFQUFVLEVBQVEsSUFJQyxpQkFGdkJBLEVBQVVBLEVBQVFDLFdBQWFELEVBQVFFLFFBQVVGLEtBRy9DQSxFQUFVLENBQUMsQ0FBQ0csRUFBT0MsRUFBSUosRUFBUyxNQUc5QyxJQUFJSyxFQUFVLENBRWQsT0FBaUIsT0FDakIsV0FBb0IsR0FJaEJDLEdBRlNQLEVBQUlDLEVBQVNLLEdBRVhMLEVBQVFPLE9BQVNQLEVBQVFPLE9BQVMsSUFJakRKLEVBQU9LLFFBQVVGLEcscURDcEJqQiw2Q0FDQSxNQUFNRyxFQUFVLGNBS1QsSUFBSUMsRUFBa0JDLE1BQU9DLFNBQ2RDLE1BQU0sR0FBR0osa0JBQzFCSyxLQUFNQyxHQUVFQSxFQUFJQyxRQUVaRixLQUFNRyxHQUNFQSxJLGdDQ2JiLG1KQUNBLE1BQU1SLEVBQVUsY0FHVCxJQUFJUyxFQUFjUCxlQUNIRSxNQUFNLEdBQUdKLGNBQzFCSyxLQUFNQyxHQUVFQSxFQUFJQyxRQUVaRixLQUFNRyxHQUNFQSxHQXFCTixNQUFNRSxFQUFhUixNQUFPUyxJQUMvQkMsUUFBUUMsSUFBSSxPQUNaRCxRQUFRQyxJQUFJQyxLQUFLQyxVQUFVSixJQUMzQixNQUFNTCxRQUFZRixNQUFNLEdBQUdKLGFBQW9CLENBQzdDZ0IsT0FBUSxPQUNSTCxLQUFNRyxLQUFLQyxVQUFVSixHQUNyQk0sUUFBUyxDQUFFLGVBQWdCLHNCQUUxQlosS0FBTUUsR0FDRUEsRUFBS0EsUUFFYkYsS0FBTWEsR0FDRUEsR0FFWE4sUUFBUUMsSUFBSVAsSUFJRGEsRUFBZ0JqQixNQUFPUyxFQUFNUyxLQUN0Q1IsUUFBUUMsSUFBSUMsS0FBS0MsVUFBVUosVUFDVFAsTUFBTSxHQUFHSixjQUFvQm9CLElBQU0sQ0FDbkRKLE9BQVEsTUFDUkwsS0FBTUcsS0FBS0MsVUFBVUosR0FDckJNLFFBQVMsQ0FBRSxlQUFnQixzQkFFMUJaLEtBQU1FLEdBQ0VBLEVBQUtBLFFBRWJGLEtBQU1hLEdBQ0VBLElBS0FHLEVBQWdCbkIsTUFBT2tCLElBSWxDLE1BQU1kLFFBQVlGLE1BQU0sR0FBR0osY0FBb0JvQixJQUFNLENBQ25ESixPQUFRLFNBQ1JDLFFBQVMsQ0FBRSxlQUFnQixzQkFFMUJaLEtBQU1FLEdBQ0VBLEVBQUtBLFFBRWJGLEtBQU1hLEdBQ0VBLEdBRVhOLFFBQVFDLElBQUlQLEssZ0NDaEZoQixzSEFxQkEsTUFBTWdCLEVBQWFDLElBQ2pCLEtBQU9BLEVBQVFuQyxXQUFXb0MsUUFDeEJELEVBQVFFLFlBQVlGLEVBQVFHLFlBSXpCeEIsZUFBZXlCLElBQ3BCLElBQUlDLEVBQWMsWUFBRyw0QkFDckJOLEVBQVVNLEdBQ0tBLEVBQVk1QyxZQUFZLFlBQUssTUFBTyxZQUMzQzZDLFVBQVksYUFNcEIsTUFBTUMsUUFBYSxjQUNuQlIsRUFBVU0sR0FHVixNQUFNRyxFQUFTSCxFQUFZSSxhQWtGM0IsR0FqRkFwQixRQUFRQyxJQUFJa0IsR0FDWkQsRUFBS0csUUFBUS9CLE1BQU9nQyxFQUFTQyxLQUMzQixJQUFJQyxFQUFjUixFQUFZNUMsWUFBWSxZQUFLLE1BQU8saUJBSWxEcUQsR0FIUUQsRUFBWXBELFlBQ3RCLFlBQU0sV0FBV2tELEVBQVFJLFVBQVdKLEVBQVFLLE1BQU0sRUFBTUwsRUFBUXJELFdBRXZELFNBQ1AyRCxFQUFZLFlBQUssTUFBTyxjQUV4QnpELEVBQWEsWUFBSSxnQkFDakIwRCxFQUFlLFlBQUksbUJBQ25CQyxFQUFZLFlBQUssTUFBTyxjQUM1QlIsRUFBUVMsYUFBYVYsUUFBU1csSUFDYkYsRUFBVTFELFlBQVksWUFBSyxNQUFPLGNBQ3hDTixJQUFNLFdBQVdrRSxFQUFLQyxhQUVqQ0wsRUFBVXhELFlBQVkwRCxHQUN0QixJQUFJSSxFQUFpQk4sRUFBVXhELFlBQVksWUFBSyxNQUFPLHFCQStCdkQsR0E5QkE4RCxFQUFlakIsVUFBWSxXQUFXSyxFQUFRckQsaUVBSzlDRSxFQUFXb0QsR0FBT1ksaUJBQWlCLFFBQVM3QyxVQUMxQyxHQUFhLFNBQVRtQyxFQUNGQSxFQUFPLFFBQ1BJLEVBQWFOLEdBQU9qRCxVQUFVQyxJQUFJLGlCQUNsQ3NELEVBQWFOLEdBQU9qRCxVQUFVOEQsT0FBTyxnQkFDckNqRSxFQUFXb0QsR0FBT1QsVUFBVXNCLGNBQ3ZCLEdBQWEsVUFBVFgsRUFBa0IsQ0FDM0JBLEVBQU8sT0FDUEksRUFBYU4sR0FBT2pELFVBQVVDLElBQUksZ0JBQ2xDc0QsRUFBYU4sR0FBT2pELFVBQVU4RCxPQUFPLGlCQUNyQ2pFLEVBQVdvRCxHQUFPbkQsWUFBWXdELEdBR3JCekQsRUFBV29ELEdBQU9jLE1BQ3hCQyxZQUNELGNBQ0EsNENBRUZULEVBQWFOLEdBQU9uRCxZQUFZOEQsWUFPMUIsY0FBVSxDQUNsQixNQUFNSyxFQUFxQixZQUFLLE1BQU8sd0JBQ2pDQyxFQUFhLFlBQU8sbUJBQW9CLFNBQVUsVUFDeERBLEVBQVdMLGlCQUFpQixRQUFTLEtBQ25DbkMsUUFBUUMsSUFBSXVCLEVBQVlWLFVBQVUyQixXQUVJLHNCQUFwQ2pCLEVBQVlWLFVBQVUyQixVQUV0QixzQkFBWWpCLEVBQWFGLEdBRXpCRSxFQUFZVixVQUFVc0IsV0FHMUJHLEVBQW1CbkUsWUFBWW9FLEdBSy9CLE1BQU1FLEVBQWUsWUFBTyxpQkFBa0IsU0FBVSxVQUN4REEsRUFBYVAsaUJBQWlCLFFBQVM3QyxVQUNyQyxJQUFJcUQsRUFBU0MsUUFBUSxtQ0FBbUN0QixFQUFRSyxTQUNoRWdCLFNBQWdCLFlBQWNyQixFQUFRZCxJQUN0Q21DLFNBQWdCNUIsTUFFbEJ3QixFQUFtQm5FLFlBQVlzRSxHQUUvQmxCLEVBQVlwRCxZQUFZbUUsWUFPbEIsY0FBVSxDQUNsQixJQUFJTSxFQUFTLFlBQU8sZ0JBQWlCLFNBQVUsZUFDL0NBLEVBQU9WLGlCQUFpQixRQUFTLEtBQy9CbkMsUUFBUUMsSUFBSWUsRUFBWUYsVUFBVTJCLFdBQ00sa0JBQXBDekIsRUFBWUYsVUFBVTJCLFVBQ3hCLHNCQUFZekIsRUFBYUUsRUFBSyxHQUFJLGNBRWxDRixFQUFZRixVQUFVc0IsV0FJMUIsWUFBR3BCLEVBQWE2QixHQVNsQjdCLEVBQVk1QyxZQUFZLGlCLGdDQy9JMUIsNkZBWU8sTUFBTTBFLEVBQWN4RCxNQUFPa0MsRUFBYUYsRUFBU3hCLEtBS3RELEdBREFFLFFBQVFDLElBQUksTUFBT0gsR0FDQSxlQUFmQSxFQUNGLElBQUssSUFBSWlELEtBQVF6QixFQUNmQSxFQUFReUIsR0FBUSxHQUdwQixJQUFJQyxFQUFhLEdBQ2JDLEVBQWdCQyxJQUNsQkYsRUFBV0UsRUFBRUMsT0FBT3hCLE1BQVF1QixFQUFFQyxPQUFPQyxPQUVuQ0MsRUFBTyxZQUFLLHFCQUNaQyxFQUFTLFlBQUssTUFBTyxvQkFDekJELEVBQUtqRixZQUFZa0YsR0FDakJDLE9BQU9DLEtBQUtsQyxHQUFTRCxRQUFTb0MsSUFDNUIsR0FDVSxPQUFSQSxHQUNRLGlCQUFSQSxHQUNRLGVBQVJBLEdBQ1EsZUFBUkEsRUFDQSxDQUNBVCxFQUFXUyxHQUFPbkMsRUFBUW1DLEdBQzFCLE1BQU1DLEVBQVEsWUFBTSxDQUNsQmpCLFVBQVcsa0JBQ1hkLEtBQU04QixFQUNObEUsS0FBTSxPQUNONkQsTUFBc0IsZUFBZnRELEVBQThCLEdBQUtrRCxFQUFXUyxHQUNyREUsWUFBYUYsRUFDYlIsYUFBY0EsSUFFaEJLLEVBQU9sRixZQUFZc0YsTUFPdkIsTUFBTUUsRUFBUyxZQUFLLE1BQU8sd0JBQzNCUCxFQUFLakYsWUFBWXdGLFVBQ1EsZUFDWkMsSUFBS0MsSUFFbEIsSUFBSUMsT0FDYUMsSUFBZmxFLEdBQ0V3QixFQUFRUyxhQUFhVixRQUFTNEMsSUFDeEJILEVBQVduQyxPQUFTc0MsRUFBa0J0QyxPQUN4QzNCLFFBQVFDLElBQUk2RCxFQUFXbkMsS0FBTXNDLEVBQWtCdEMsTUFDL0NvQyxFQUFVLGFBR2hCLElBQUlHLEVBQUssWUFBUyxDQUNoQnpCLFVBQVcsc0JBQ1hkLEtBQU1tQyxFQUFXbkMsS0FDakJuQixHQUFJc0QsRUFBV25DLEtBQ2Z5QixNQUFRVSxFQUFXdEQsR0FDbkJ1RCxRQUF3QixlQUFmakUsRUFBOEIsR0FBS2lFLElBRzlDSCxFQUFPeEYsWUFBWThGLEdBQ25CTixFQUFPeEYsWUFBWSxZQUFNLGlCQUFrQjBGLEVBQVduQyxLQUFNLGVBRzlEMEIsRUFBS2pGLFlBQ0gsWUFDRSxzQkFDQSxTQUNlLGVBQWYwQixFQUE4QixrQkFBb0IsV0FLdEQsWUFBRzBCLEVBQWE2QixHQU1oQkEsRUFBS2xCLGlCQUFpQixTQUFVN0MsTUFBTzZFLElBQ3JDQSxFQUFJQyxpQkFDSnBFLFFBQVFDLElBQUksTUFBT0gsR0FFbkIsTUFBTXVFLEVBQWFDLFNBQVNDLGlCQUFpQixnQ0FDN0N2RSxRQUFRQyxJQUFJb0UsR0FDWnJCLEVBQVdqQixhQUFlLEdBQzFCc0MsRUFBV2hELFFBQVNtRCxJQUNsQnhCLEVBQVdqQixhQUFhMEMsS0FBS0QsRUFBSXBCLFNBRW5DcEQsUUFBUUMsSUFBSSxNQUFPK0MsR0FDSixlQUFmbEQsUUFDVSxZQUFja0QsU0FDZCxZQUFjQSxFQUFZMUIsRUFBUWQsVUFFdEMseUIsbUJDM0dWLElBQUk5QixFQUFNLEVBQVEsR0FDRkMsRUFBVSxFQUFRLElBSUMsaUJBRnZCQSxFQUFVQSxFQUFRQyxXQUFhRCxFQUFRRSxRQUFVRixLQUcvQ0EsRUFBVSxDQUFDLENBQUNHLEVBQU9DLEVBQUlKLEVBQVMsTUFHOUMsSUFBSUssRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBSWhCQyxHQUZTUCxFQUFJQyxFQUFTSyxHQUVYTCxFQUFRTyxPQUFTUCxFQUFRTyxPQUFTLElBSWpESixFQUFPSyxRQUFVRixHIiwiZmlsZSI6IjAuYzc5YWFlZWNmYTE2MDQ4MjIzMzkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjZWNsLCBxcyB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG5pbXBvcnQgXCIuL2ltYWdlLnNjc3NcIlxuZXhwb3J0IGNvbnN0IEltYWdlID0gKHNyYywgdGl0bGUsIG1vZGFsLCBzaXRlX3VybCkgPT4ge1xuICAvLyBjb25zb2xlLmxvZyhzcmMpXG4gIGxldCBwcm9qZWN0SW1nID0gY2VjbChcImRpdlwiLCBcInByb2plY3QtaW1nXCIpXG5cbiAgbGV0IGltZ1dyYXBwZXIgPSBjZWNsKFwiZGl2XCIsIFwiaW1nLXdyYXBwZXJcIilcbiAgcHJvamVjdEltZy5hcHBlbmRDaGlsZChpbWdXcmFwcGVyKVxuICBsZXQgZGl2ID0gY2VjbChcImRpdlwiLCBcImlubmVyLWltZy13cmFwXCIpXG4gIGltZ1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGl2KVxuXG5cbiAgbGV0IGltZyA9IGRpdi5hcHBlbmRDaGlsZChjZWNsKFwiaW1nXCIsIFwiaW1nXCIpKVxuICBpbWcuc3JjID0gc3JjXG5cblxuICBpZiAobW9kYWwgPT09IHRydWUpIHtcbiAgICBsZXQgbW9kYWwgPSBkaXYuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcIm1vZGFsXCIpKVxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LW1vZGFsXCIsIFwibW9kYWwtc2xpZGVcIilcbiAgICBsZXQgbW9kYWxTcGFuID0gbW9kYWwuYXBwZW5kQ2hpbGQoY2VjbChcInNwYW5cIiwgXCJtb2RhbC1zcGFuXCIpKVxuICAgIGxldCBoMiA9IG1vZGFsLmNoaWxkTm9kZXNbMF0uYXBwZW5kQ2hpbGQoY2VjbChcImgyXCIsIFwicHJvamVjdC10aXRsZVwiKSlcbiAgICBtb2RhbC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gdGl0bGVcblxuICAgIC8vIGNvbnNvbGUubG9nKFwicHJvamVjdHRpdGxlXCIsIGgyKVxuICAgIC8vIGlmIChpbWcuaGVpZ2h0ID4gaW1nLndpZHRoKSB7XG4gICAgLy8gICBtb2RhbFNwYW4uc3R5bGUudHJhbnNmb3JtID0gXCJza2V3KC0xMGRlZykgdHJhbnNsYXRlWCgtMzAlKVwiXG4gICAgLy8gICBtb2RhbFNwYW4uc3R5bGUud2lkdGggPSAnNjAlJ1xuICAgIC8vICAgaDIuc3R5bGUudHJhbnNmb3JtID0gXCJza2V3KDEwZGVnKSB0cmFuc2xhdGUoMSUpXCJcbiAgICAvLyAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoKVxuICAgIC8vICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpPT57XG4gICAgLy8gICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiA2MDApe1xuICAgIC8vICAgICBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzQwJSdcbiAgICAvLyAgIH1lbHNle1xuICAgIC8vICAgICBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzcwJSdcbiAgICAvLyAgIH1cbiAgICAvLyAgIH0pXG4gICAgXG4gICAgLy8gICAvLyBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzQwJSdcbiAgICAvLyAgIC8vIGgyLnN0eWxlLlxuICAgIC8vIH1cbiAgICBcblxuICBcblxuICAgIC8vIGxpbmtNb2RhbE1vcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIGV2dCA9PiB7XG4gICAgLy8gICBsZXQgcmVzID0gYXdhaXQgc2hvd1NpbmdsZUl0ZW1tKGV2dCwgZSwgXCJwcm9qZWN0c1wiKTtcblxuICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRlbnRcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAvLyAgIG5hdmJhcih7IHByb2plY3Q6IGUgfSk7XG4gICAgLy8gICBwcm9qZWN0cyhcInByb2plY3RcIiwge1xuICAgIC8vICAgICBwcm9qZWN0OiBlLFxuICAgIC8vICAgICB0ZWNobm9sb2dpZXM6IHJlcy50ZWNobm9sb2dpZXMsXG4gICAgLy8gICAgIHRyYWl0czogcmVzLnRyYWl0c1xuICAgIC8vICAgfSk7XG4gICAgLy8gICB0ZWNobm9sb2dpZXMoXCJ0ZWNobm9sb2dpZXNcIiwgeyB0ZWNobm9sb2dpZXM6IHJlcy50ZWNobm9sb2dpZXMgfSk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyBsZXQgbGlua01vZGFsU2l0ZUJ0biA9IG1ha2VFbGVtZW50KFwiYnV0dG9uXCIsIFwic2l0ZS1idXR0b25cIiwgbGlua01vZGFsLCB7XG4gICAgLy8gICBpbm5lclRleHQ6IFwidmlzaXQgc2l0ZVwiXG4gICAgLy8gfSk7XG4gICAgLy8gbGlua01vZGFsU2l0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcbiAgICAvLyAgIGxvY2F0aW9uLmhyZWYgPSBlLnNpdGVfdXJsO1xuICAgIC8vICAgdGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHJldHVybiBwcm9qZWN0SW1nXG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbWFnZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsImltcG9ydCB7IEJhc2VVcmx9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5cblxuZXhwb3J0IGxldCBnZXRUZWNobm9sb2dpZXMgPSBhc3luYyAodHlwZSkgPT4ge1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3RlY2hub2xvZ2llc2ApXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICBcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gdHlwZSwgcmVzdWx0c1xufSIsImltcG9ydCB7IEJhc2VVcmx9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5leHBvcnQgbGV0IGdldFByb2plY3RzID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0c1xufVxuXG5leHBvcnQgbGV0IGdldFByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzLyR7aWR9YClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG5cblxuXG5leHBvcnQgY29uc3QgYWRkUHJvamVjdCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdlcmUnKVxuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHNgLCB7XG4gICAgbWV0aG9kOiBgcG9zdGAsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxufVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0ID0gYXN5bmMgKGJvZHksIGlkKSA9PiB7XG4gICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYm9keSkpXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBwdXRgLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGRhdGFcbiAgICAgIH0pXG4gXG4gIH1cbi8vXG4gIGV4cG9ydCBjb25zdCBkZWxldGVQcm9qZWN0ID0gYXN5bmMgKGlkKSA9PiB7XG5cbiAgXG4gICBcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYGRlbGV0ZWAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgIH0pXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgfSlcbiAgICBjb25zb2xlLmxvZyhyZXMpXG4gIH1cblxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyA9IGFzeW5jKHByb2plY3RfaWQsIGlkKT0+e1xuICBjb25zb2xlLmxvZygndXB0JylcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtwcm9qZWN0X2lkfS90ZWNobm9sb2dpZXMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICB9KVxuICAudGhlbigoanNvbikgPT4ge1xuICAgIHJldHVybiBqc29uLmpzb24oKVxuICB9KVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIHJldHVybiBkYXRhXG4gIH0pXG5jb25zb2xlLmxvZyhyZXMpXG5cbn0iLCIvLyBpbXBvcnQgXCIuLi9TaGFyZWQvSW1hZ2VcIlxuaW1wb3J0IHsgcXMsIHFzYSwgY2VjbCwgYWMsIGJ0biB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlclwiXG5pbXBvcnQgeyB2ZXJpZnkgfSBmcm9tIFwiLi4vU2VydmljZXMvQXBpQXV0aC5qc1wiXG5pbXBvcnQgeyBnZXRUZWNobm9sb2dpZXMgfSBmcm9tIFwiLi4vU2VydmljZXMvQXBpVGVjaC5qc1wiXG5pbXBvcnQgeyBJbWFnZSB9IGZyb20gXCIuLi9TaGFyZWQvSW1hZ2UuanNcIlxuaW1wb3J0IHsgRm9vdGVyIH0gZnJvbSBcIi4uL0Zvb3Rlci9Gb290ZXIuanNcIlxuXG5pbXBvcnQge1xuICBnZXRQcm9qZWN0cyxcbiAgYWRkUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdCxcbiAgZGVsZXRlUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVByb2plY3QuanNcIlxuaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiwgQ2hlY2tib3gsIExhYmVsIH0gZnJvbSBcIi4uL1NoYXJlZC9Gb3JtLmpzXCJcbmltcG9ydCB7IEVkaXRQcm9qZWN0IH0gZnJvbSBcIi4vRWRpdFByb2plY3RcIlxuaW1wb3J0IFwiLi9wcm9qZWN0cy5zY3NzXCJcblxuLyoqKioqKioqKipcbiBDTEVBUiBQQUdFXG4qKioqKioqKioqKi9cbmNvbnN0IGNsZWFyUGFnZSA9IChlbGVtZW50KSA9PiB7XG4gIHdoaWxlIChlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50Lmxhc3RDaGlsZClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUHJvamVjdHMoKSB7XG4gIGxldCBtYWluQ29udGVudCA9IHFzKFwiLm1haW4tY29udGVudC1zY3JvbGxhYmxlXCIpXG4gIGNsZWFyUGFnZShtYWluQ29udGVudClcbiAgbGV0IGxvYWRpbmcgID0gbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcImxvYWRpbmdcIikpXG4gIGxvYWRpbmcuaW5uZXJIVE1MID0gXCJsb2FkaW5nLi4uXCJcblxuXG4gIC8qKioqKioqKioqKioqKlxuICBSRU5ERVIgUFJPSkVDVFNcbiAgKioqKioqKioqKioqKioqL1xuICBjb25zdCByZXNwID0gYXdhaXQgZ2V0UHJvamVjdHMoKVxuICBjbGVhclBhZ2UobWFpbkNvbnRlbnQpXG5cblxuICBjb25zdCBoZWlnaHQgPSBtYWluQ29udGVudC5jbGllbnRIZWlnaHRcbiAgY29uc29sZS5sb2coaGVpZ2h0KVxuICByZXNwLmZvckVhY2goYXN5bmMgKHByb2plY3QsIGluZGV4KSA9PiB7XG4gICAgbGV0IHByb2plY3RXcmFwID0gbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcInByb2plY3Qtd3JhcFwiKSlcbiAgICBsZXQgaW1hZ2UgPSBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChcbiAgICAgIEltYWdlKGBzcmMvaW1nLyR7cHJvamVjdC5pbWdfdXJsfWAsIHByb2plY3QubmFtZSwgdHJ1ZSwgcHJvamVjdC5zaXRlX3VybClcbiAgICApXG4gICAgbGV0IGJvb2wgPSBcImZhbHNlXCJcbiAgICBsZXQgbGlua01vZGFsID0gY2VjbChcImRpdlwiLCBcImxpbmstbW9kYWxcIilcblxuICAgIGxldCBpbWdXcmFwcGVyID0gcXNhKFwiLmltZy13cmFwcGVyXCIpXG4gICAgbGV0IGlubmVySW1nV3JhcCA9IHFzYShcIi5pbm5lci1pbWctd3JhcFwiKVxuICAgIGxldCB0ZWNoSWNvbnMgPSBjZWNsKFwiZGl2XCIsIFwidGVjaC1pY29uc1wiKVxuICAgIHByb2plY3QudGVjaG5vbG9naWVzLmZvckVhY2goKGljb24pID0+IHtcbiAgICAgIGxldCB0ZWNoSWNvbiA9IHRlY2hJY29ucy5hcHBlbmRDaGlsZChjZWNsKFwiaW1nXCIsIFwidGVjaC1pY29uXCIpKVxuICAgICAgdGVjaEljb24uc3JjID0gYHNyYy9pbWcvJHtpY29uLmljb25fdXJsfWBcbiAgICB9KVxuICAgIGxpbmtNb2RhbC5hcHBlbmRDaGlsZCh0ZWNoSWNvbnMpXG4gICAgbGV0IGxpbmtNb2RhbEljb25zID0gbGlua01vZGFsLmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJsaW5rLW1vZGFsLWljb25zXCIpKVxuICAgIGxpbmtNb2RhbEljb25zLmlubmVySFRNTCA9IGA8YSBocmVmPSR7cHJvamVjdC5zaXRlX3VybH0gdGFyZ2V0PSdfYmxhbmsnPjxpIGNsYXNzPVwiZmFzIGZhLWhvbWUgZmEtZndcIj48L2k+PC9hPmBcblxuICAgIC8qKioqKioqKioqKioqKlxuICAgIEFERCBMSU5LIE1PREFMXG4gICAgKioqKioqKioqKioqKioqL1xuICAgIGltZ1dyYXBwZXJbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoYm9vbCA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgYm9vbCA9IFwiZmFsc2VcIlxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJjbG9zZS1jdXJ0YWluXCIpXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tY3VydGFpblwiKVxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgIH0gZWxzZSBpZiAoYm9vbCA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgIGJvb2wgPSBcInRydWVcIlxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5hZGQoXCJvcGVuLWN1cnRhaW5cIilcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKFwiY2xvc2UtY3VydGFpblwiKVxuICAgICAgICBpbWdXcmFwcGVyW2luZGV4XS5hcHBlbmRDaGlsZChsaW5rTW9kYWwpXG4gICAgICAgIC8vIGxldCBzdHlsZUVsZW0gPSBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKSk7XG4gICAgICAgIC8vIHN0eWxlRWxlbS5pbm5lckhUTUwgPSBcIi5pbWctd3JhcHBlcjpiZWZvcmUge2FuaW1hdGlvbjogYW5pbWF0ZS1pbWctd3JhcHBlciAxLjVzIGxpbmVhciBmb3J3YXJkczt9XCJcbiAgICAgICAgbGV0IGl3ID0gaW1nV3JhcHBlcltpbmRleF0uc3R5bGVcbiAgICAgICAgaXcuc2V0UHJvcGVydHkoXG4gICAgICAgICAgXCItLWFuaW1hdGlvblwiLFxuICAgICAgICAgIFwiYW5pbWF0ZS1pbWctd3JhcHBlciAxLjVzIGxpbmVhciBmb3J3YXJkc1wiXG4gICAgICAgIClcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5hcHBlbmRDaGlsZChsaW5rTW9kYWxJY29ucylcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKipcbiAgICAgRURJVCBQUk9KRUNUIEJVVFRPTlxuICAgICoqKioqKioqKioqKioqKioqKioqL1xuICAgIGlmIChhd2FpdCB2ZXJpZnkoKSkge1xuICAgICAgY29uc3QgZWRpdFByb2plY3RXcmFwcGVyID0gY2VjbChcImRpdlwiLCBcImVkaXQtcHJvamVjdC13cmFwcGVyXCIpXG4gICAgICBjb25zdCBlZGl0QnV0dG9uID0gQnV0dG9uKFwic2hvdy1lZGl0LWJ1dHRvblwiLCBcInN1Ym1pdFwiLCBcInVwZGF0ZVwiKVxuICAgICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhwcm9qZWN0V3JhcC5sYXN0Q2hpbGQuY2xhc3NOYW1lKVxuICAgICAgICBpZiAoXG4gICAgICAgICAgcHJvamVjdFdyYXAubGFzdENoaWxkLmNsYXNzTmFtZSAhPT0gXCJlZGl0LXByb2plY3QtZm9ybVwiXG4gICAgICAgIClcbiAgICAgICAgICBFZGl0UHJvamVjdChwcm9qZWN0V3JhcCwgcHJvamVjdClcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcHJvamVjdFdyYXAubGFzdENoaWxkLnJlbW92ZSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICBlZGl0UHJvamVjdFdyYXBwZXIuYXBwZW5kQ2hpbGQoZWRpdEJ1dHRvbilcblxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKipcbiAgICAgREVMRVRFIFBST0pFQ1QgQlVUVE9OXG4gICAgKioqKioqKioqKioqKioqKioqKioqKioqL1xuICAgICAgY29uc3QgZGVsZXRlQnV0dG9uID0gQnV0dG9uKFwiZGVsZXRlLXByb2plY3RcIiwgXCJzdWJtaXRcIiwgXCJkZWxldGVcIilcbiAgICAgIGRlbGV0ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZXQgYW5zd2VyID0gY29uZmlybShgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSAke3Byb2plY3QubmFtZX0/YClcbiAgICAgICAgYW5zd2VyICYmIGF3YWl0IGRlbGV0ZVByb2plY3QocHJvamVjdC5pZClcbiAgICAgICAgYW5zd2VyICYmIGF3YWl0IFByb2plY3RzKClcbiAgICAgIH0pXG4gICAgICBlZGl0UHJvamVjdFdyYXBwZXIuYXBwZW5kQ2hpbGQoZGVsZXRlQnV0dG9uKVxuXG4gICAgICBwcm9qZWN0V3JhcC5hcHBlbmRDaGlsZChlZGl0UHJvamVjdFdyYXBwZXIpXG4gICAgfVxuICB9KVxuXG4gIC8qKioqKioqKioqKlxuICBBREQgUFJPSkVDVCBcbiAgKioqKioqKioqKioqL1xuICBpZiAoYXdhaXQgdmVyaWZ5KCkpIHtcbiAgICBsZXQgYWRkQnRuID0gQnV0dG9uKFwic2hvdy1hZGQtZm9ybVwiLCBcInN1Ym1pdFwiLCBcImFkZCBwcm9qZWN0XCIpXG4gICAgYWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhtYWluQ29udGVudC5sYXN0Q2hpbGQuY2xhc3NOYW1lKVxuICAgICAgaWYgKG1haW5Db250ZW50Lmxhc3RDaGlsZC5jbGFzc05hbWUgPT09IFwic2hvdy1hZGQtZm9ybVwiKVxuICAgICAgICBFZGl0UHJvamVjdChtYWluQ29udGVudCwgcmVzcFswXSwgXCJhZGRQcm9qZWN0XCIpXG4gICAgICBlbHNlIHtcbiAgICAgICAgbWFpbkNvbnRlbnQubGFzdENoaWxkLnJlbW92ZSgpXG4gICAgICB9XG4gICAgfSlcblxuICAgIGFjKG1haW5Db250ZW50LCBhZGRCdG4pXG4gIH1cblxuICAvLyAvL2Rvd24gYnV0dG9uXG5cbiAgLy8gY29uc3Qgc2VlTW9yZUJ0biA9IEJ1dHRvbignc2VlLW1vcmUtYnRuJywgJ3N1Ym1pdCcsICdzZWUgbW9yZScpXG5cbiAgLy8gYWMobWFpbkNvbnRlbnQsIHNlZU1vcmVCdG4pXG5cbiAgbWFpbkNvbnRlbnQuYXBwZW5kQ2hpbGQoRm9vdGVyKCkpIFxuXG5cbn1cbiIsImltcG9ydCB7IEZvcm0sIElucHV0LCBCdXR0b24sIENoZWNrYm94LCBMYWJlbCB9IGZyb20gXCIuLi9TaGFyZWQvRm9ybS5qc1wiXG5pbXBvcnQgeyBnZXRUZWNobm9sb2dpZXMgfSBmcm9tIFwiLi4vU2VydmljZXMvQXBpVGVjaC5qc1wiXG5pbXBvcnQge1xuICBnZXRQcm9qZWN0LFxuICBhZGRQcm9qZWN0IGFzIGFkZE5ld1Byb2plY3QsXG4gIHVwZGF0ZVByb2plY3QsXG4gIGRlbGV0ZVByb2plY3QsXG4gIHVwZGF0ZVByb2plY3RUZWNobm9sb2dpZXMsXG59IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlQcm9qZWN0LmpzXCJcbmltcG9ydCB7IFByb2plY3RzIH0gZnJvbSBcIi4vUHJvamVjdHMuanNcIlxuaW1wb3J0IHsgYWMsIGNlY2wgfSBmcm9tIFwiLi4vSGVscGVycy9kb21IZWxwZXIuanNcIlxuXG5leHBvcnQgY29uc3QgRWRpdFByb2plY3QgPSBhc3luYyAocHJvamVjdFdyYXAsIHByb2plY3QsIGFkZFByb2plY3QpID0+IHtcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKlxuICBNQUtFIEFORCBTRVQgRk9STSAgSU5QVVRTXG4gICoqKioqKioqKioqKioqKioqKioqKioqKiovXG4gIGNvbnNvbGUubG9nKFwiYWRkXCIsIGFkZFByb2plY3QpXG4gIGlmIChhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIikge1xuICAgIGZvciAobGV0IGl0ZW0gaW4gcHJvamVjdCkge1xuICAgICAgcHJvamVjdFtpdGVtXSA9IFwiXCJcbiAgICB9XG4gIH1cbiAgbGV0IG5ld1Byb2plY3QgPSB7fVxuICBsZXQgaGFuZGxlQ2hhbmdlID0gKGUpID0+IHtcbiAgICBuZXdQcm9qZWN0W2UudGFyZ2V0Lm5hbWVdID0gZS50YXJnZXQudmFsdWVcbiAgfVxuICBsZXQgZm9ybSA9IEZvcm0oXCJlZGl0LXByb2plY3QtZm9ybVwiKVxuICBsZXQgaW5wdXRzID0gY2VjbCgnZGl2JywgJ2VkaXQtZm9ybS1pbnB1dHMnKVxuICBmb3JtLmFwcGVuZENoaWxkKGlucHV0cylcbiAgT2JqZWN0LmtleXMocHJvamVjdCkuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgaWYgKFxuICAgICAga2V5ICE9PSBcImlkXCIgJiZcbiAgICAgIGtleSAhPT0gXCJ0ZWNobm9sb2dpZXNcIiAmJlxuICAgICAga2V5ICE9PSBcImNyZWF0ZWRfYXRcIiAmJlxuICAgICAga2V5ICE9PSBcInVwZGF0ZWRfYXRcIlxuICAgICkge1xuICAgICAgbmV3UHJvamVjdFtrZXldID0gcHJvamVjdFtrZXldXG4gICAgICBjb25zdCBpbnB1dCA9IElucHV0KHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImVkaXQtZm9ybS1pbnB1dFwiLFxuICAgICAgICBuYW1lOiBrZXksXG4gICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICB2YWx1ZTogYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIgPyBcIlwiIDogbmV3UHJvamVjdFtrZXldLFxuICAgICAgICBwbGFjZWhvbGRlcjoga2V5LFxuICAgICAgICBoYW5kbGVDaGFuZ2U6IGhhbmRsZUNoYW5nZSxcbiAgICAgIH0pXG4gICAgICBpbnB1dHMuYXBwZW5kQ2hpbGQoaW5wdXQpXG4gICAgfVxuICB9KVxuXG4gIC8qKioqKioqKioqKioqKlxuICAgU0VUIENIRUNLQk9YRVNcbiAgKioqKioqKioqKioqKioqL1xuICBjb25zdCBjaGVja3MgPSBjZWNsKCdkaXYnLCAnZWRpdC1mb3JtLWNoZWNrYm94ZXMnKVxuICBmb3JtLmFwcGVuZENoaWxkKGNoZWNrcylcbiAgbGV0IHRlY2hub2xvZ2llcyA9IGF3YWl0IGdldFRlY2hub2xvZ2llcygpXG4gIHRlY2hub2xvZ2llcy5tYXAoKHRlY2hub2xvZ3kpID0+IHtcbiAgICBcbiAgbGV0IGNoZWNrZWRcbiAgICBhZGRQcm9qZWN0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgIHByb2plY3QudGVjaG5vbG9naWVzLmZvckVhY2goKHByb2plY3RUZWNobm9sb2d5KSA9PiB7XG4gICAgICAgIGlmICh0ZWNobm9sb2d5Lm5hbWUgPT09IHByb2plY3RUZWNobm9sb2d5Lm5hbWUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyh0ZWNobm9sb2d5Lm5hbWUsIHByb2plY3RUZWNobm9sb2d5Lm5hbWUpXG4gICAgICAgICAgY2hlY2tlZCA9IFwiY2hlY2tlZFwiXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgbGV0IGJ4ID0gQ2hlY2tib3goe1xuICAgICAgY2xhc3NOYW1lOiBcImVkaXQtcHJvamVjdC1jaGtib3hcIixcbiAgICAgIG5hbWU6IHRlY2hub2xvZ3kubmFtZSxcbiAgICAgIGlkOiB0ZWNobm9sb2d5Lm5hbWUsXG4gICAgICB2YWx1ZTogIHRlY2hub2xvZ3kuaWQsXG4gICAgICBjaGVja2VkOiBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiXCIgOiBjaGVja2VkLFxuXG4gICAgfSlcbiAgICBjaGVja3MuYXBwZW5kQ2hpbGQoYngpXG4gICAgY2hlY2tzLmFwcGVuZENoaWxkKExhYmVsKFwidGVjaC1ib3gtbGFiZWxcIiwgdGVjaG5vbG9neS5uYW1lLCBcInRlY2gtYm94XCIpKVxuICAgIFxuICB9KVxuICBmb3JtLmFwcGVuZENoaWxkKFxuICAgIEJ1dHRvbihcbiAgICAgIFwiZWRpdC1wcm9qZWN0LWJ1dHRvblwiLFxuICAgICAgXCJzdWJtaXRcIixcbiAgICAgIGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiID8gXCJhZGQgbmV3IHByb2plY3RcIiA6IFwic3VibWl0XCJcbiAgICApXG4gIClcblxuXG4gIGFjKHByb2plY3RXcmFwLCBmb3JtKVxuXG5cbiAgLyoqKioqKioqKipcbiAgIFNVQk1JVCBGT1JNXG4gICoqKioqKioqKioqL1xuICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgYXN5bmMgKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgY29uc29sZS5sb2coXCJhZGRcIiwgYWRkUHJvamVjdClcblxuICAgIGNvbnN0IGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZFwiKVxuICAgIGNvbnNvbGUubG9nKGNoZWNrYm94ZXMpXG4gICAgbmV3UHJvamVjdC50ZWNobm9sb2dpZXMgPSBbXVxuICAgIGNoZWNrYm94ZXMuZm9yRWFjaCgoYm94KSA9PiB7XG4gICAgICBuZXdQcm9qZWN0LnRlY2hub2xvZ2llcy5wdXNoKGJveC52YWx1ZSlcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKFwiYWRkXCIsIG5ld1Byb2plY3QpXG4gICAgYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCJcbiAgICAgID8gYXdhaXQgYWRkTmV3UHJvamVjdChuZXdQcm9qZWN0KVxuICAgICAgOiBhd2FpdCB1cGRhdGVQcm9qZWN0KG5ld1Byb2plY3QsIHByb2plY3QuaWQpXG5cbiAgICBhd2FpdCBQcm9qZWN0cygpXG4gIH0pXG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9wcm9qZWN0cy5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyJdLCJzb3VyY2VSb290IjoiIn0=