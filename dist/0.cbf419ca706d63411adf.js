(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{68:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(0);c(69);const a=(e,t,c,a)=>{let o=Object(n.c)("div","project-img"),i=Object(n.c)("div","img-wrapper");o.appendChild(i);let d=Object(n.c)("div","inner-img-wrap");if(i.appendChild(d),d.appendChild(Object(n.c)("img","img")).src=e,!0===c){let e=d.appendChild(Object(n.c)("div","modal"));e.classList.add("project-modal","modal-slide");e.appendChild(Object(n.c)("span","modal-span")),e.childNodes[0].appendChild(Object(n.c)("h2","project-title"));e.childNodes[0].childNodes[0].innerText=t}return o}},69:function(e,t,c){var n=c(1),a=c(70);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},70:function(e,t,c){},71:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(3);const a=Object(n.a)();let o=async e=>await fetch(`${a}/technologies`).then(e=>e.json()).then(e=>e)},72:function(e,t,c){"use strict";c.d(t,"c",(function(){return o})),c.d(t,"a",(function(){return i})),c.d(t,"d",(function(){return d})),c.d(t,"b",(function(){return s}));var n=c(3);const a=Object(n.a)();let o=async()=>await fetch(`${a}/projects`).then(e=>e.json()).then(e=>e);const i=async e=>{console.log("ere"),console.log(JSON.stringify(e));const t=await fetch(`${a}/projects`,{method:"post",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)},d=async(e,t)=>{console.log(JSON.stringify(e));await fetch(`${a}/projects/${t}`,{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e)},s=async e=>{const t=await fetch(`${a}/projects/${e}`,{method:"delete",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>e);console.log(t)}},73:function(e,t,c){"use strict";c.d(t,"c",(function(){return a})),c.d(t,"d",(function(){return o})),c.d(t,"a",(function(){return i})),c.d(t,"b",(function(){return d})),c.d(t,"e",(function(){return s}));var n=c(0);const a=e=>{let t=Object(n.d)("form");return t.className=e,t},o=e=>{const{className:t,name:c,type:a,value:o,placeholder:i,handleChange:d}=e;let s=Object(n.d)("input");return s.className=t,s.name=c,s.type=a,s.value=o,s.placeholder=i,s.addEventListener("keyup",e=>{d(e)}),s},i=(e,t,c)=>{let a=Object(n.c)("button",e);return a.type=t,a.innerText=c,a},d=e=>{let{className:t,name:c,id:a,value:o,checked:i}=e;console.log(i);let d=Object(n.d)("input");return t=t,d.name=c,d.id=a,d.value=o,d.type="checkbox","checked"===i&&d.setAttribute("checked",""),d},s=(e,t,c)=>{let a=Object(n.d)("label");return a.className=e,a.for=c,a.innerHTML=t,a}},76:function(e,t,c){"use strict";c.r(t),c.d(t,"Projects",(function(){return r}));var n=c(0),a=c(4),o=(c(71),c(68)),i=c(72),d=c(73),s=c(77);c(78);const l=e=>{for(;e.childNodes.length;)e.removeChild(e.lastChild)};async function r(){let e=Object(n.e)(".main-content-scrollable");l(e),e.appendChild(Object(n.c)("div","loading")).innerHTML="loading...";const t=await Object(i.c)();if(l(e),t.forEach(async(t,c)=>{let l=e.appendChild(Object(n.c)("div","project-wrap")),p=(l.appendChild(Object(o.a)(`src/img/${t.img_url}`,t.name,!0,t.site_url)),"false"),h=Object(n.c)("div","link-modal"),u=Object(n.f)(".img-wrapper"),j=Object(n.f)(".inner-img-wrap"),b=Object(n.c)("div","tech-icons");t.technologies.forEach(e=>{b.appendChild(Object(n.c)("img","tech-icon")).src=`src/img/${e.icon_url}`}),h.appendChild(b);let m=h.appendChild(Object(n.c)("div","link-modal-icons"));if(m.innerHTML=`<a href=${t.site_url} target='_blank'><i class="fas fa-home fa-fw"></i></a>`,u[c].addEventListener("click",async()=>{if("true"===p)p="false",j[c].classList.add("close-curtain"),j[c].classList.remove("open-curtain"),u[c].lastChild.remove();else if("false"===p){p="true",j[c].classList.add("open-curtain"),j[c].classList.remove("close-curtain"),u[c].appendChild(h),u[c].style.setProperty("--animation","animate-img-wrapper 1.5s linear forwards"),j[c].appendChild(m)}}),await Object(a.d)()){const e=Object(n.c)("div","edit-project-wrapper"),c=Object(d.a)("show-edit-button","submit","update");c.addEventListener("click",()=>{console.log(l.lastChild.className),"edit-project-form"!==l.lastChild.className?Object(s.EditProject)(l,t):l.lastChild.remove()}),e.appendChild(c);const a=Object(d.a)("delete-project","submit","delete");a.addEventListener("click",async()=>{let e=confirm(`Are you sure you want to delete ${t.name}?`);e&&await Object(i.b)(t.id),e&&await r()}),e.appendChild(a),l.appendChild(e)}}),await Object(a.d)()){let c=Object(d.a)("show-add-form","submit","add project");c.addEventListener("click",()=>{console.log(e.lastChild.className),"show-add-form"===e.lastChild.className?Object(s.EditProject)(e,t[0],"addProject"):e.lastChild.remove()}),Object(n.b)(e,c)}}},77:function(e,t,c){"use strict";c.r(t),c.d(t,"EditProject",(function(){return s}));var n=c(73),a=c(71),o=c(72),i=c(76),d=c(0);const s=async(e,t,c)=>{if(console.log("add",c),"addProject"===c)for(let e in t)t[e]="";let s={},l=e=>{s[e.target.name]=e.target.value},r=Object(n.c)("edit-project-form"),p=Object(d.c)("div","edit-form-inputs");r.appendChild(p),Object.keys(t).forEach(e=>{if("id"!==e&&"technologies"!==e&&"created_at"!==e&&"updated_at"!==e){s[e]=t[e];const a=Object(n.d)({className:"edit-form-input",name:e,type:"text",value:"addProject"===c?"":s[e],placeholder:e,handleChange:l});p.appendChild(a)}});const h=Object(d.c)("div","edit-form-checkboxes");r.appendChild(h),(await Object(a.a)()).map(e=>{let a;void 0===c&&t.technologies.forEach(t=>{e.name===t.name&&(console.log(e.name,t.name),a="checked")});let o=Object(n.b)({className:"edit-project-chkbox",name:e.name,id:e.name,value:e.id,checked:"addProject"===c?"":a});h.appendChild(o),h.appendChild(Object(n.e)("tech-box-label",e.name,"tech-box"))}),r.appendChild(Object(n.a)("edit-project-button","submit","addProject"===c?"add new project":"submit")),Object(d.b)(e,r),r.addEventListener("submit",async e=>{e.preventDefault(),console.log("add",c);const n=document.querySelectorAll("input[type=checkbox]:checked");console.log(n),s.technologies=[],n.forEach(e=>{s.technologies.push(e.value)}),console.log("add",s),"addProject"===c?await Object(o.a)(s):await Object(o.d)(s,t.id),await Object(i.Projects)()})}},78:function(e,t,c){var n=c(1),a=c(79);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(n(a,o),a.locals?a.locals:{});e.exports=i},79:function(e,t,c){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TaGFyZWQvSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL2ltYWdlLnNjc3M/NDQ2MSIsIndlYnBhY2s6Ly8vLi9zcmMvQ29tcG9uZW50cy9TZXJ2aWNlcy9BcGlUZWNoLmpzIiwid2VicGFjazovLy8uL3NyYy9Db21wb25lbnRzL1NlcnZpY2VzL0FwaVByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvU2hhcmVkL0Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvRWRpdFByb2plY3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NvbXBvbmVudHMvUHJvamVjdHMvcHJvamVjdHMuc2NzcyJdLCJuYW1lcyI6WyJJbWFnZSIsInNyYyIsInRpdGxlIiwibW9kYWwiLCJzaXRlX3VybCIsInByb2plY3RJbWciLCJpbWdXcmFwcGVyIiwiYXBwZW5kQ2hpbGQiLCJkaXYiLCJjbGFzc0xpc3QiLCJhZGQiLCJjaGlsZE5vZGVzIiwiaW5uZXJUZXh0IiwiYXBpIiwiY29udGVudCIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9kdWxlIiwiaSIsIm9wdGlvbnMiLCJleHBvcnRlZCIsImxvY2FscyIsImV4cG9ydHMiLCJiYXNlVXJsIiwiZ2V0VGVjaG5vbG9naWVzIiwiYXN5bmMiLCJ0eXBlIiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwianNvbiIsImFucyIsImdldFByb2plY3RzIiwiYWRkUHJvamVjdCIsImJvZHkiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIm1ldGhvZCIsImhlYWRlcnMiLCJkYXRhIiwidXBkYXRlUHJvamVjdCIsImlkIiwiZGVsZXRlUHJvamVjdCIsIkZvcm0iLCJjbGFzc05hbWUiLCJmb3JtIiwiSW5wdXQiLCJpbnB1dEF0dHMiLCJuYW1lIiwidmFsdWUiLCJwbGFjZWhvbGRlciIsImhhbmRsZUNoYW5nZSIsImlucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJCdXR0b24iLCJidG4iLCJDaGVja2JveCIsImNoZWNrZWQiLCJjaGtCb3giLCJzZXRBdHRyaWJ1dGUiLCJMYWJlbCIsImxhYmVsIiwiZm9yIiwiaW5uZXJIVE1MIiwiY2xlYXJQYWdlIiwiZWxlbWVudCIsImxlbmd0aCIsInJlbW92ZUNoaWxkIiwibGFzdENoaWxkIiwiUHJvamVjdHMiLCJtYWluQ29udGVudCIsInJlc3AiLCJmb3JFYWNoIiwicHJvamVjdCIsImluZGV4IiwicHJvamVjdFdyYXAiLCJib29sIiwiaW1nX3VybCIsImxpbmtNb2RhbCIsImlubmVySW1nV3JhcCIsInRlY2hJY29ucyIsInRlY2hub2xvZ2llcyIsImljb24iLCJpY29uX3VybCIsImxpbmtNb2RhbEljb25zIiwicmVtb3ZlIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImVkaXRQcm9qZWN0V3JhcHBlciIsImVkaXRCdXR0b24iLCJkZWxldGVCdXR0b24iLCJhbnN3ZXIiLCJjb25maXJtIiwiYWRkQnRuIiwiRWRpdFByb2plY3QiLCJpdGVtIiwibmV3UHJvamVjdCIsInRhcmdldCIsImlucHV0cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJjaGVja3MiLCJtYXAiLCJ0ZWNobm9sb2d5IiwidW5kZWZpbmVkIiwicHJvamVjdFRlY2hub2xvZ3kiLCJieCIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiY2hlY2tib3hlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImJveCIsInB1c2giXSwibWFwcGluZ3MiOiJ5RkFBQSxtREFFTyxNQUFNQSxFQUFRLENBQUNDLEVBQUtDLEVBQU9DLEVBQU9DLEtBRXZDLElBQUlDLEVBQWEsWUFBSyxNQUFPLGVBRXpCQyxFQUFhLFlBQUssTUFBTyxlQUM3QkQsRUFBV0UsWUFBWUQsR0FDdkIsSUFBSUUsRUFBTSxZQUFLLE1B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QUFXLHNCQUNYSSxLQUFNeUQsRUFBV3pELEtBQ2pCUCxHQUFJZ0UsRUFBV3pELEtBQ2ZDLE1BQVF3RCxFQUFXaEUsR0FDbkJpQixRQUF3QixlQUFmM0IsRUFBOEIsR0FBSzJCLElBRzlDNkMsRUFBT2xHLFlBQVl1RyxHQUNuQkwsRUFBT2xHLFlBQVksWUFBTSxpQkFBa0JvRyxFQUFXekQsS0FBTSxlQUc5REgsRUFBS3hDLFlBQ0gsWUFDRSxzQkFDQSxTQUNlLGVBQWYwQixFQUE4QixrQkFBb0IsV0FLdEQsWUFBRzZDLEVBQWEvQixHQU1oQkEsRUFBS1EsaUJBQWlCLFNBQVU5QixNQUFPc0YsSUFDckNBLEVBQUlDLGlCQUNKN0UsUUFBUUMsSUFBSSxNQUFPSCxHQUVuQixNQUFNZ0YsRUFBYUMsU0FBU0MsaUJBQWlCLGdDQUM3Q2hGLFFBQVFDLElBQUk2RSxHQUNaZCxFQUFXZixhQUFlLEdBQzFCNkIsRUFBV3RDLFFBQVN5QyxJQUNsQmpCLEVBQVdmLGFBQWFpQyxLQUFLRCxFQUFJakUsU0FFbkNoQixRQUFRQyxJQUFJLE1BQU8rRCxHQUNKLGVBQWZsRSxRQUNVLFlBQWNrRSxTQUNkLFlBQWNBLEVBQVl2QixFQUFRakMsVUFFdEMseUIsbUJDM0dWLElBQUk5QixFQUFNLEVBQVEsR0FDRkMsRUFBVSxFQUFRLElBSUMsaUJBRnZCQSxFQUFVQSxFQUFRQyxXQUFhRCxFQUFRRSxRQUFVRixLQUcvQ0EsRUFBVSxDQUFDLENBQUNHLEVBQU9DLEVBQUlKLEVBQVMsTUFHOUMsSUFBSUssRUFBVSxDQUVkLE9BQWlCLE9BQ2pCLFdBQW9CLEdBSWhCQyxHQUZTUCxFQUFJQyxFQUFTSyxHQUVYTCxFQUFRTyxPQUFTUCxFQUFRTyxPQUFTLElBSWpESixFQUFPSyxRQUFVRixHIiwiZmlsZSI6IjAuY2JmNDE5Y2E3MDZkNjM0MTFhZGYuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjZWNsLCBxcyB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG5pbXBvcnQgXCIuL2ltYWdlLnNjc3NcIlxuZXhwb3J0IGNvbnN0IEltYWdlID0gKHNyYywgdGl0bGUsIG1vZGFsLCBzaXRlX3VybCkgPT4ge1xuICAvLyBjb25zb2xlLmxvZyhzcmMpXG4gIGxldCBwcm9qZWN0SW1nID0gY2VjbChcImRpdlwiLCBcInByb2plY3QtaW1nXCIpXG5cbiAgbGV0IGltZ1dyYXBwZXIgPSBjZWNsKFwiZGl2XCIsIFwiaW1nLXdyYXBwZXJcIilcbiAgcHJvamVjdEltZy5hcHBlbmRDaGlsZChpbWdXcmFwcGVyKVxuICBsZXQgZGl2ID0gY2VjbChcImRpdlwiLCBcImlubmVyLWltZy13cmFwXCIpXG4gIGltZ1dyYXBwZXIuYXBwZW5kQ2hpbGQoZGl2KVxuXG5cbiAgbGV0IGltZyA9IGRpdi5hcHBlbmRDaGlsZChjZWNsKFwiaW1nXCIsIFwiaW1nXCIpKVxuICBpbWcuc3JjID0gc3JjXG5cblxuICBpZiAobW9kYWwgPT09IHRydWUpIHtcbiAgICBsZXQgbW9kYWwgPSBkaXYuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcIm1vZGFsXCIpKVxuICAgIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJwcm9qZWN0LW1vZGFsXCIsIFwibW9kYWwtc2xpZGVcIilcbiAgICBsZXQgbW9kYWxTcGFuID0gbW9kYWwuYXBwZW5kQ2hpbGQoY2VjbChcInNwYW5cIiwgXCJtb2RhbC1zcGFuXCIpKVxuICAgIGxldCBoMiA9IG1vZGFsLmNoaWxkTm9kZXNbMF0uYXBwZW5kQ2hpbGQoY2VjbChcImgyXCIsIFwicHJvamVjdC10aXRsZVwiKSlcbiAgICBtb2RhbC5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXNbMF0uaW5uZXJUZXh0ID0gdGl0bGVcblxuICAgIC8vIGNvbnNvbGUubG9nKFwicHJvamVjdHRpdGxlXCIsIGgyKVxuICAgIC8vIGlmIChpbWcuaGVpZ2h0ID4gaW1nLndpZHRoKSB7XG4gICAgLy8gICBtb2RhbFNwYW4uc3R5bGUudHJhbnNmb3JtID0gXCJza2V3KC0xMGRlZykgdHJhbnNsYXRlWCgtMzAlKVwiXG4gICAgLy8gICBtb2RhbFNwYW4uc3R5bGUud2lkdGggPSAnNjAlJ1xuICAgIC8vICAgaDIuc3R5bGUudHJhbnNmb3JtID0gXCJza2V3KDEwZGVnKSB0cmFuc2xhdGUoMSUpXCJcbiAgICAvLyAgIGNvbnNvbGUubG9nKHdpbmRvdy5pbm5lcldpZHRoKVxuICAgIC8vICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpPT57XG4gICAgLy8gICAgICAgaWYod2luZG93LmlubmVyV2lkdGggPiA2MDApe1xuICAgIC8vICAgICBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzQwJSdcbiAgICAvLyAgIH1lbHNle1xuICAgIC8vICAgICBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzcwJSdcbiAgICAvLyAgIH1cbiAgICAvLyAgIH0pXG4gICAgXG4gICAgLy8gICAvLyBpbWdXcmFwcGVyLnN0eWxlLndpZHRoID0gJzQwJSdcbiAgICAvLyAgIC8vIGgyLnN0eWxlLlxuICAgIC8vIH1cbiAgICBcblxuICBcblxuICAgIC8vIGxpbmtNb2RhbE1vcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIGV2dCA9PiB7XG4gICAgLy8gICBsZXQgcmVzID0gYXdhaXQgc2hvd1NpbmdsZUl0ZW1tKGV2dCwgZSwgXCJwcm9qZWN0c1wiKTtcblxuICAgIC8vICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRlbnRcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAvLyAgIG5hdmJhcih7IHByb2plY3Q6IGUgfSk7XG4gICAgLy8gICBwcm9qZWN0cyhcInByb2plY3RcIiwge1xuICAgIC8vICAgICBwcm9qZWN0OiBlLFxuICAgIC8vICAgICB0ZWNobm9sb2dpZXM6IHJlcy50ZWNobm9sb2dpZXMsXG4gICAgLy8gICAgIHRyYWl0czogcmVzLnRyYWl0c1xuICAgIC8vICAgfSk7XG4gICAgLy8gICB0ZWNobm9sb2dpZXMoXCJ0ZWNobm9sb2dpZXNcIiwgeyB0ZWNobm9sb2dpZXM6IHJlcy50ZWNobm9sb2dpZXMgfSk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyBsZXQgbGlua01vZGFsU2l0ZUJ0biA9IG1ha2VFbGVtZW50KFwiYnV0dG9uXCIsIFwic2l0ZS1idXR0b25cIiwgbGlua01vZGFsLCB7XG4gICAgLy8gICBpbm5lclRleHQ6IFwidmlzaXQgc2l0ZVwiXG4gICAgLy8gfSk7XG4gICAgLy8gbGlua01vZGFsU2l0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZ0ID0+IHtcbiAgICAvLyAgIGxvY2F0aW9uLmhyZWYgPSBlLnNpdGVfdXJsO1xuICAgIC8vICAgdGFyZ2V0ID0gXCJfYmxhbmtcIjtcbiAgICAvLyB9KTtcbiAgfVxuXG4gIHJldHVybiBwcm9qZWN0SW1nXG59XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuLi8uLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvZGlzdC9janMuanMhLi9pbWFnZS5zY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG52YXIgZXhwb3J0ZWQgPSBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDoge307XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydGVkOyIsImltcG9ydCB7IEJhc2VVcmx9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5cblxuZXhwb3J0IGxldCBnZXRUZWNobm9sb2dpZXMgPSBhc3luYyAodHlwZSkgPT4ge1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3RlY2hub2xvZ2llc2ApXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICBcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gdHlwZSwgcmVzdWx0c1xufSIsImltcG9ydCB7IEJhc2VVcmx9IGZyb20gJy4vQmFzZVVybC5qcydcbmNvbnN0IGJhc2VVcmwgPSBCYXNlVXJsKClcblxuXG5leHBvcnQgbGV0IGdldFByb2plY3RzID0gYXN5bmMgKCkgPT4ge1xuICBsZXQgcmVzdWx0cyA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzYClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0c1xufVxuXG5leHBvcnQgbGV0IGdldFByb2plY3QgPSBhc3luYyAoaWQpID0+IHtcbiAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGAke2Jhc2VVcmx9L3Byb2plY3RzLyR7aWR9YClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBcbiAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgfSlcbiAgICAudGhlbigoYW5zKSA9PiB7XG4gICAgICByZXR1cm4gYW5zXG4gICAgfSlcblxuICByZXR1cm4gcmVzdWx0XG59XG5cblxuXG5leHBvcnQgY29uc3QgYWRkUHJvamVjdCA9IGFzeW5jIChib2R5KSA9PiB7XG4gIGNvbnNvbGUubG9nKCdlcmUnKVxuICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShib2R5KSlcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHNgLCB7XG4gICAgbWV0aG9kOiBgcG9zdGAsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gIH0pXG4gICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgIHJldHVybiBqc29uLmpzb24oKVxuICAgIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSlcbiAgY29uc29sZS5sb2cocmVzKVxufVxuXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVQcm9qZWN0ID0gYXN5bmMgKGJvZHksIGlkKSA9PiB7XG4gICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkoYm9keSkpXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6IGBwdXRgLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKGpzb24pID0+IHtcbiAgICAgICAgcmV0dXJuIGpzb24uanNvbigpXG4gICAgICB9KVxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgcmV0dXJuIGRhdGFcbiAgICAgIH0pXG4gXG4gIH1cbi8vXG4gIGV4cG9ydCBjb25zdCBkZWxldGVQcm9qZWN0ID0gYXN5bmMgKGlkKSA9PiB7XG5cbiAgXG4gICBcbiAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtiYXNlVXJsfS9wcm9qZWN0cy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogYGRlbGV0ZWAsXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICAgIH0pXG4gICAgICAudGhlbigoanNvbikgPT4ge1xuICAgICAgICByZXR1cm4ganNvbi5qc29uKClcbiAgICAgIH0pXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgfSlcbiAgICBjb25zb2xlLmxvZyhyZXMpXG4gIH1cblxuXG5leHBvcnQgY29uc3QgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyA9IGFzeW5jKHByb2plY3RfaWQsIGlkKT0+e1xuICBjb25zb2xlLmxvZygndXB0JylcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7YmFzZVVybH0vcHJvamVjdHMvJHtwcm9qZWN0X2lkfS90ZWNobm9sb2dpZXMvJHtpZH1gLCB7XG4gICAgbWV0aG9kOiBgcHV0YCxcbiAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfVxuICB9KVxuICAudGhlbigoanNvbikgPT4ge1xuICAgIHJldHVybiBqc29uLmpzb24oKVxuICB9KVxuICAudGhlbigoZGF0YSkgPT4ge1xuICAgIHJldHVybiBkYXRhXG4gIH0pXG5jb25zb2xlLmxvZyhyZXMpXG5cbn0iLCJpbXBvcnQgeyBjZSwgY3JlYXRlRWxlbWVudCwgY2VjbCwgYWMsIGJ0biB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG4vLyBleHBvcnQgY29uc3QgRm9ybSA9IChvYmosIGhhbmRsZUNoYW5nZSwgZm9ybUNsYXNzTmFtZSkgPT4ge1xuLy8gICBsZXQgZm9ybSA9IGNlY2woYGZvcm1gLCBmb3JtQ2xhc3NOYW1lKVxuLy8gICBsZXQgZm9ybUlucHV0cyA9IGNlY2woXCJkaXZcIiwgXCJpbnB1dHNcIilcbi8vICAgLy8gY29uc29sZS5sb2coZm9ybUlucHV0cylcbi8vICAgYWMoZm9ybSwgZm9ybUlucHV0cylcbi8vICAgbGV0IGlucHV0cyA9IE9iamVjdC5rZXlzKG9iailcbi8vICAgaW5wdXRzLm1hcCgoZWwpID0+IHtcbi8vICAgICBsZXQgaW5wdXQgPSBjZWNsKGBpbnB1dGAsIGVsKVxuLy8gICAgIGZvcm1JbnB1dHMuYXBwZW5kKGlucHV0KVxuLy8gICAgIGlucHV0Lm5hbWUgPSBlbFxuLy8gICAgIGlucHV0LnZhbHVlID0gb2JqID8gb2JqW2VsXSA6IFwiXCJcbi8vICAgICBpbnB1dC5wbGFjZWhvbGRlciA9IGVsXG4vLyAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihga2V5dXBgLCAoZSkgPT4ge1xuLy8gICAgICAgaGFuZGxlQ2hhbmdlKGUpXG4vLyAgICAgfSlcbi8vICAgfSlcbi8vICAgZm9ybUlucHV0cy5hcHBlbmRDaGlsZChidG4oXCJ1cGRhdGUgcHJvamVjdFwiLCBcInN1Ym1pdFwiLCBcInVwZGF0ZS1idG5cIikpXG5cbi8vICAgcmV0dXJuIGZvcm1cbi8vIH1cblxuZXhwb3J0IGNvbnN0IEZvcm0gPSAoY2xhc3NOYW1lKSA9PiB7XG4gIGxldCBmb3JtID0gY3JlYXRlRWxlbWVudChgZm9ybWApXG4gIGZvcm0uY2xhc3NOYW1lID0gY2xhc3NOYW1lXG4gIHJldHVybiBmb3JtXG59XG5cbmV4cG9ydCBjb25zdCBJbnB1dCA9IChpbnB1dEF0dHMpID0+IHtcbiAgY29uc3Qge2NsYXNzTmFtZSwgbmFtZSwgdHlwZSwgdmFsdWUsIHBsYWNlaG9sZGVyLCBoYW5kbGVDaGFuZ2V9ID0gaW5wdXRBdHRzXG4gIGxldCBpbnB1dCA9IGNyZWF0ZUVsZW1lbnQoYGlucHV0YClcbiAgaW5wdXQuY2xhc3NOYW1lID0gY2xhc3NOYW1lXG4gIGlucHV0Lm5hbWUgPSBuYW1lXG4gIGlucHV0LnR5cGUgPSB0eXBlXG4gIGlucHV0LnZhbHVlID0gdmFsdWVcbiAgaW5wdXQucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlclxuXG4gIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoYGtleXVwYCwgKGUpID0+IHtcbiAgXG4gICAgaGFuZGxlQ2hhbmdlKGUpXG4gIH0pXG5cbiAgcmV0dXJuIGlucHV0XG59XG5cbmV4cG9ydCBjb25zdCBCdXR0b24gPSAoY2xhc3NOYW1lLCB0eXBlLCBpbm5lclRleHQpID0+IHtcbiAgbGV0IGJ0biA9IGNlY2woXCJidXR0b25cIiwgY2xhc3NOYW1lKVxuICBidG4udHlwZSA9IHR5cGVcbiAgYnRuLmlubmVyVGV4dCA9IGlubmVyVGV4dFxuICByZXR1cm4gYnRuXG59XG5cbmV4cG9ydCBjb25zdCBDaGVja2JveCA9IChpbnB1dEF0dHMpID0+IHtcbiAgbGV0IHtjbGFzc05hbWUsIG5hbWUsIGlkLCB2YWx1ZSwgY2hlY2tlZH0gPSBpbnB1dEF0dHNcbmNvbnNvbGUubG9nKGNoZWNrZWQpXG4gIGxldCBjaGtCb3ggPSBjcmVhdGVFbGVtZW50KFwiaW5wdXRcIilcbiAgY2xhc3NOYW1lID0gY2xhc3NOYW1lXG4gIGNoa0JveC5uYW1lID0gbmFtZVxuICBjaGtCb3guaWQgPSBpZFxuICBjaGtCb3gudmFsdWUgPSB2YWx1ZVxuICBjaGtCb3gudHlwZSA9IFwiY2hlY2tib3hcIlxuXG4gIGNoZWNrZWQgPT09IFwiY2hlY2tlZFwiICYmIGNoa0JveC5zZXRBdHRyaWJ1dGUoXCJjaGVja2VkXCIsIFwiXCIpXG5cbiAgXG5cbiAgcmV0dXJuIGNoa0JveFxufVxuXG5leHBvcnQgY29uc3QgTGFiZWwgPSAoY2xhc3NOYW1lLCBuYW1lLCBpZCkgPT4ge1xuICBsZXQgbGFiZWwgPSBjcmVhdGVFbGVtZW50KCdsYWJlbCcpXG4gIGxhYmVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZVxuICBsYWJlbC5mb3IgPSBpZFxuICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lXG4gIHJldHVybiBsYWJlbFxufVxuIiwiLy8gaW1wb3J0IFwiLi4vU2hhcmVkL0ltYWdlXCJcbmltcG9ydCB7IHFzLCBxc2EsIGNlY2wsIGFjLCBidG4gfSBmcm9tIFwiLi4vSGVscGVycy9kb21IZWxwZXJcIlxuaW1wb3J0IHsgdmVyaWZ5IH0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaUF1dGguanNcIlxuaW1wb3J0IHsgZ2V0VGVjaG5vbG9naWVzIH0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVRlY2guanNcIlxuaW1wb3J0IHsgSW1hZ2UgfSBmcm9tIFwiLi4vU2hhcmVkL0ltYWdlLmpzXCJcblxuaW1wb3J0IHtcbiAgZ2V0UHJvamVjdHMsXG4gIGFkZFByb2plY3QsXG4gIHVwZGF0ZVByb2plY3QsXG4gIGRlbGV0ZVByb2plY3QsXG4gIHVwZGF0ZVByb2plY3RUZWNobm9sb2dpZXMsXG59IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlQcm9qZWN0LmpzXCJcbmltcG9ydCB7IEZvcm0sIElucHV0LCBCdXR0b24sIENoZWNrYm94LCBMYWJlbCB9IGZyb20gXCIuLi9TaGFyZWQvRm9ybS5qc1wiXG5pbXBvcnQgeyBFZGl0UHJvamVjdCB9IGZyb20gXCIuL0VkaXRQcm9qZWN0XCJcbmltcG9ydCBcIi4vcHJvamVjdHMuc2Nzc1wiXG5cbi8qKioqKioqKioqXG4gQ0xFQVIgUEFHRVxuKioqKioqKioqKiovXG5jb25zdCBjbGVhclBhZ2UgPSAoZWxlbWVudCkgPT4ge1xuICB3aGlsZSAoZWxlbWVudC5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5sYXN0Q2hpbGQpXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFByb2plY3RzKCkge1xuICBsZXQgbWFpbkNvbnRlbnQgPSBxcyhcIi5tYWluLWNvbnRlbnQtc2Nyb2xsYWJsZVwiKVxuICBjbGVhclBhZ2UobWFpbkNvbnRlbnQpXG4gIGxldCBsb2FkaW5nICA9IG1haW5Db250ZW50LmFwcGVuZENoaWxkKGNlY2woXCJkaXZcIiwgXCJsb2FkaW5nXCIpKVxuICBsb2FkaW5nLmlubmVySFRNTCA9IFwibG9hZGluZy4uLlwiXG5cblxuICAvKioqKioqKioqKioqKipcbiAgUkVOREVSIFBST0pFQ1RTXG4gICoqKioqKioqKioqKioqKi9cbiAgY29uc3QgcmVzcCA9IGF3YWl0IGdldFByb2plY3RzKClcbiAgY2xlYXJQYWdlKG1haW5Db250ZW50KVxuXG4gIHJlc3AuZm9yRWFjaChhc3luYyAocHJvamVjdCwgaW5kZXgpID0+IHtcbiAgICBsZXQgcHJvamVjdFdyYXAgPSBtYWluQ29udGVudC5hcHBlbmRDaGlsZChjZWNsKFwiZGl2XCIsIFwicHJvamVjdC13cmFwXCIpKVxuICAgIGxldCBpbWFnZSA9IHByb2plY3RXcmFwLmFwcGVuZENoaWxkKFxuICAgICAgSW1hZ2UoYHNyYy9pbWcvJHtwcm9qZWN0LmltZ191cmx9YCwgcHJvamVjdC5uYW1lLCB0cnVlLCBwcm9qZWN0LnNpdGVfdXJsKVxuICAgIClcbiAgICBsZXQgYm9vbCA9IFwiZmFsc2VcIlxuICAgIGxldCBsaW5rTW9kYWwgPSBjZWNsKFwiZGl2XCIsIFwibGluay1tb2RhbFwiKVxuXG4gICAgbGV0IGltZ1dyYXBwZXIgPSBxc2EoXCIuaW1nLXdyYXBwZXJcIilcbiAgICBsZXQgaW5uZXJJbWdXcmFwID0gcXNhKFwiLmlubmVyLWltZy13cmFwXCIpXG4gICAgbGV0IHRlY2hJY29ucyA9IGNlY2woXCJkaXZcIiwgXCJ0ZWNoLWljb25zXCIpXG4gICAgcHJvamVjdC50ZWNobm9sb2dpZXMuZm9yRWFjaCgoaWNvbikgPT4ge1xuICAgICAgbGV0IHRlY2hJY29uID0gdGVjaEljb25zLmFwcGVuZENoaWxkKGNlY2woXCJpbWdcIiwgXCJ0ZWNoLWljb25cIikpXG4gICAgICB0ZWNoSWNvbi5zcmMgPSBgc3JjL2ltZy8ke2ljb24uaWNvbl91cmx9YFxuICAgIH0pXG4gICAgbGlua01vZGFsLmFwcGVuZENoaWxkKHRlY2hJY29ucylcbiAgICBsZXQgbGlua01vZGFsSWNvbnMgPSBsaW5rTW9kYWwuYXBwZW5kQ2hpbGQoY2VjbChcImRpdlwiLCBcImxpbmstbW9kYWwtaWNvbnNcIikpXG4gICAgbGlua01vZGFsSWNvbnMuaW5uZXJIVE1MID0gYDxhIGhyZWY9JHtwcm9qZWN0LnNpdGVfdXJsfSB0YXJnZXQ9J19ibGFuayc+PGkgY2xhc3M9XCJmYXMgZmEtaG9tZSBmYS1md1wiPjwvaT48L2E+YFxuXG4gICAgLyoqKioqKioqKioqKioqXG4gICAgQUREIExJTksgTU9EQUxcbiAgICAqKioqKioqKioqKioqKiovXG4gICAgaW1nV3JhcHBlcltpbmRleF0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmIChib29sID09PSBcInRydWVcIikge1xuICAgICAgICBib29sID0gXCJmYWxzZVwiXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LmFkZChcImNsb3NlLWN1cnRhaW5cIilcbiAgICAgICAgaW5uZXJJbWdXcmFwW2luZGV4XS5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1jdXJ0YWluXCIpXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLmxhc3RDaGlsZC5yZW1vdmUoKVxuICAgICAgfSBlbHNlIGlmIChib29sID09PSBcImZhbHNlXCIpIHtcbiAgICAgICAgYm9vbCA9IFwidHJ1ZVwiXG4gICAgICAgIGlubmVySW1nV3JhcFtpbmRleF0uY2xhc3NMaXN0LmFkZChcIm9wZW4tY3VydGFpblwiKVxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmNsYXNzTGlzdC5yZW1vdmUoXCJjbG9zZS1jdXJ0YWluXCIpXG4gICAgICAgIGltZ1dyYXBwZXJbaW5kZXhdLmFwcGVuZENoaWxkKGxpbmtNb2RhbClcbiAgICAgICAgLy8gbGV0IHN0eWxlRWxlbSA9IGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKTtcbiAgICAgICAgLy8gc3R5bGVFbGVtLmlubmVySFRNTCA9IFwiLmltZy13cmFwcGVyOmJlZm9yZSB7YW5pbWF0aW9uOiBhbmltYXRlLWltZy13cmFwcGVyIDEuNXMgbGluZWFyIGZvcndhcmRzO31cIlxuICAgICAgICBsZXQgaXcgPSBpbWdXcmFwcGVyW2luZGV4XS5zdHlsZVxuICAgICAgICBpdy5zZXRQcm9wZXJ0eShcbiAgICAgICAgICBcIi0tYW5pbWF0aW9uXCIsXG4gICAgICAgICAgXCJhbmltYXRlLWltZy13cmFwcGVyIDEuNXMgbGluZWFyIGZvcndhcmRzXCJcbiAgICAgICAgKVxuICAgICAgICBpbm5lckltZ1dyYXBbaW5kZXhdLmFwcGVuZENoaWxkKGxpbmtNb2RhbEljb25zKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvKioqKioqKioqKioqKioqKioqKlxuICAgICBFRElUIFBST0pFQ1QgQlVUVE9OXG4gICAgKioqKioqKioqKioqKioqKioqKiovXG4gICAgaWYgKGF3YWl0IHZlcmlmeSgpKSB7XG4gICAgICBjb25zdCBlZGl0UHJvamVjdFdyYXBwZXIgPSBjZWNsKFwiZGl2XCIsIFwiZWRpdC1wcm9qZWN0LXdyYXBwZXJcIilcbiAgICAgIGNvbnN0IGVkaXRCdXR0b24gPSBCdXR0b24oXCJzaG93LWVkaXQtYnV0dG9uXCIsIFwic3VibWl0XCIsIFwidXBkYXRlXCIpXG4gICAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHByb2plY3RXcmFwLmxhc3RDaGlsZC5jbGFzc05hbWUpXG4gICAgICAgIGlmIChcbiAgICAgICAgICBwcm9qZWN0V3JhcC5sYXN0Q2hpbGQuY2xhc3NOYW1lICE9PSBcImVkaXQtcHJvamVjdC1mb3JtXCJcbiAgICAgICAgKVxuICAgICAgICAgIEVkaXRQcm9qZWN0KHByb2plY3RXcmFwLCBwcm9qZWN0KVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBwcm9qZWN0V3JhcC5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIGVkaXRQcm9qZWN0V3JhcHBlci5hcHBlbmRDaGlsZChlZGl0QnV0dG9uKVxuXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKlxuICAgICBERUxFVEUgUFJPSkVDVCBCVVRUT05cbiAgICAqKioqKioqKioqKioqKioqKioqKioqKiovXG4gICAgICBjb25zdCBkZWxldGVCdXR0b24gPSBCdXR0b24oXCJkZWxldGUtcHJvamVjdFwiLCBcInN1Ym1pdFwiLCBcImRlbGV0ZVwiKVxuICAgICAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCBhbnN3ZXIgPSBjb25maXJtKGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlICR7cHJvamVjdC5uYW1lfT9gKVxuICAgICAgICBhbnN3ZXIgJiYgYXdhaXQgZGVsZXRlUHJvamVjdChwcm9qZWN0LmlkKVxuICAgICAgICBhbnN3ZXIgJiYgYXdhaXQgUHJvamVjdHMoKVxuICAgICAgfSlcbiAgICAgIGVkaXRQcm9qZWN0V3JhcHBlci5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pXG5cbiAgICAgIHByb2plY3RXcmFwLmFwcGVuZENoaWxkKGVkaXRQcm9qZWN0V3JhcHBlcilcbiAgICB9XG4gIH0pXG5cbiAgLyoqKioqKioqKioqXG4gIEFERCBQUk9KRUNUIFxuICAqKioqKioqKioqKiovXG4gIGlmIChhd2FpdCB2ZXJpZnkoKSkge1xuICAgIGxldCBhZGRCdG4gPSBCdXR0b24oXCJzaG93LWFkZC1mb3JtXCIsIFwic3VibWl0XCIsIFwiYWRkIHByb2plY3RcIilcbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKG1haW5Db250ZW50Lmxhc3RDaGlsZC5jbGFzc05hbWUpXG4gICAgICBpZiAobWFpbkNvbnRlbnQubGFzdENoaWxkLmNsYXNzTmFtZSA9PT0gXCJzaG93LWFkZC1mb3JtXCIpXG4gICAgICAgIEVkaXRQcm9qZWN0KG1haW5Db250ZW50LCByZXNwWzBdLCBcImFkZFByb2plY3RcIilcbiAgICAgIGVsc2Uge1xuICAgICAgICBtYWluQ29udGVudC5sYXN0Q2hpbGQucmVtb3ZlKClcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgYWMobWFpbkNvbnRlbnQsIGFkZEJ0bilcbiAgfVxufVxuIiwiaW1wb3J0IHsgRm9ybSwgSW5wdXQsIEJ1dHRvbiwgQ2hlY2tib3gsIExhYmVsIH0gZnJvbSBcIi4uL1NoYXJlZC9Gb3JtLmpzXCJcbmltcG9ydCB7IGdldFRlY2hub2xvZ2llcyB9IGZyb20gXCIuLi9TZXJ2aWNlcy9BcGlUZWNoLmpzXCJcbmltcG9ydCB7XG4gIGdldFByb2plY3QsXG4gIGFkZFByb2plY3QgYXMgYWRkTmV3UHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdCxcbiAgZGVsZXRlUHJvamVjdCxcbiAgdXBkYXRlUHJvamVjdFRlY2hub2xvZ2llcyxcbn0gZnJvbSBcIi4uL1NlcnZpY2VzL0FwaVByb2plY3QuanNcIlxuaW1wb3J0IHsgUHJvamVjdHMgfSBmcm9tIFwiLi9Qcm9qZWN0cy5qc1wiXG5pbXBvcnQgeyBhYywgY2VjbCB9IGZyb20gXCIuLi9IZWxwZXJzL2RvbUhlbHBlci5qc1wiXG5cbmV4cG9ydCBjb25zdCBFZGl0UHJvamVjdCA9IGFzeW5jIChwcm9qZWN0V3JhcCwgcHJvamVjdCwgYWRkUHJvamVjdCkgPT4ge1xuICAvKioqKioqKioqKioqKioqKioqKioqKioqXG4gIE1BS0UgQU5EIFNFVCBGT1JNICBJTlBVVFNcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgY29uc29sZS5sb2coXCJhZGRcIiwgYWRkUHJvamVjdClcbiAgaWYgKGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiKSB7XG4gICAgZm9yIChsZXQgaXRlbSBpbiBwcm9qZWN0KSB7XG4gICAgICBwcm9qZWN0W2l0ZW1dID0gXCJcIlxuICAgIH1cbiAgfVxuICBsZXQgbmV3UHJvamVjdCA9IHt9XG4gIGxldCBoYW5kbGVDaGFuZ2UgPSAoZSkgPT4ge1xuICAgIG5ld1Byb2plY3RbZS50YXJnZXQubmFtZV0gPSBlLnRhcmdldC52YWx1ZVxuICB9XG4gIGxldCBmb3JtID0gRm9ybShcImVkaXQtcHJvamVjdC1mb3JtXCIpXG4gIGxldCBpbnB1dHMgPSBjZWNsKCdkaXYnLCAnZWRpdC1mb3JtLWlucHV0cycpXG4gIGZvcm0uYXBwZW5kQ2hpbGQoaW5wdXRzKVxuICBPYmplY3Qua2V5cyhwcm9qZWN0KS5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBpZiAoXG4gICAgICBrZXkgIT09IFwiaWRcIiAmJlxuICAgICAga2V5ICE9PSBcInRlY2hub2xvZ2llc1wiICYmXG4gICAgICBrZXkgIT09IFwiY3JlYXRlZF9hdFwiICYmXG4gICAgICBrZXkgIT09IFwidXBkYXRlZF9hdFwiXG4gICAgKSB7XG4gICAgICBuZXdQcm9qZWN0W2tleV0gPSBwcm9qZWN0W2tleV1cbiAgICAgIGNvbnN0IGlucHV0ID0gSW5wdXQoe1xuICAgICAgICBjbGFzc05hbWU6IFwiZWRpdC1mb3JtLWlucHV0XCIsXG4gICAgICAgIG5hbWU6IGtleSxcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIHZhbHVlOiBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiXCIgOiBuZXdQcm9qZWN0W2tleV0sXG4gICAgICAgIHBsYWNlaG9sZGVyOiBrZXksXG4gICAgICAgIGhhbmRsZUNoYW5nZTogaGFuZGxlQ2hhbmdlLFxuICAgICAgfSlcbiAgICAgIGlucHV0cy5hcHBlbmRDaGlsZChpbnB1dClcbiAgICB9XG4gIH0pXG5cbiAgLyoqKioqKioqKioqKioqXG4gICBTRVQgQ0hFQ0tCT1hFU1xuICAqKioqKioqKioqKioqKiovXG4gIGNvbnN0IGNoZWNrcyA9IGNlY2woJ2RpdicsICdlZGl0LWZvcm0tY2hlY2tib3hlcycpXG4gIGZvcm0uYXBwZW5kQ2hpbGQoY2hlY2tzKVxuICBsZXQgdGVjaG5vbG9naWVzID0gYXdhaXQgZ2V0VGVjaG5vbG9naWVzKClcbiAgdGVjaG5vbG9naWVzLm1hcCgodGVjaG5vbG9neSkgPT4ge1xuICAgIFxuICAgIGxldCBjaGVja2VkXG4gICAgYWRkUHJvamVjdCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICBwcm9qZWN0LnRlY2hub2xvZ2llcy5mb3JFYWNoKChwcm9qZWN0VGVjaG5vbG9neSkgPT4ge1xuICAgICAgICBpZiAodGVjaG5vbG9neS5uYW1lID09PSBwcm9qZWN0VGVjaG5vbG9neS5uYW1lKSB7XG4gICAgICAgICAgY29uc29sZS5sb2codGVjaG5vbG9neS5uYW1lLCBwcm9qZWN0VGVjaG5vbG9neS5uYW1lKVxuICAgICAgICAgIGNoZWNrZWQgPSBcImNoZWNrZWRcIlxuICAgICAgICB9XG4gICAgICB9KVxuICAgIGxldCBieCA9IENoZWNrYm94KHtcbiAgICAgIGNsYXNzTmFtZTogXCJlZGl0LXByb2plY3QtY2hrYm94XCIsXG4gICAgICBuYW1lOiB0ZWNobm9sb2d5Lm5hbWUsXG4gICAgICBpZDogdGVjaG5vbG9neS5uYW1lLFxuICAgICAgdmFsdWU6ICB0ZWNobm9sb2d5LmlkLFxuICAgICAgY2hlY2tlZDogYWRkUHJvamVjdCA9PT0gXCJhZGRQcm9qZWN0XCIgPyBcIlwiIDogY2hlY2tlZCxcblxuICAgIH0pXG4gICAgY2hlY2tzLmFwcGVuZENoaWxkKGJ4KVxuICAgIGNoZWNrcy5hcHBlbmRDaGlsZChMYWJlbChcInRlY2gtYm94LWxhYmVsXCIsIHRlY2hub2xvZ3kubmFtZSwgXCJ0ZWNoLWJveFwiKSlcbiAgICBcbiAgfSlcbiAgZm9ybS5hcHBlbmRDaGlsZChcbiAgICBCdXR0b24oXG4gICAgICBcImVkaXQtcHJvamVjdC1idXR0b25cIixcbiAgICAgIFwic3VibWl0XCIsXG4gICAgICBhZGRQcm9qZWN0ID09PSBcImFkZFByb2plY3RcIiA/IFwiYWRkIG5ldyBwcm9qZWN0XCIgOiBcInN1Ym1pdFwiXG4gICAgKVxuICApXG5cblxuICBhYyhwcm9qZWN0V3JhcCwgZm9ybSlcblxuXG4gIC8qKioqKioqKioqXG4gICBTVUJNSVQgRk9STVxuICAqKioqKioqKioqKi9cbiAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGFzeW5jIChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKVxuICAgIGNvbnNvbGUubG9nKFwiYWRkXCIsIGFkZFByb2plY3QpXG5cbiAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWRcIilcbiAgICBjb25zb2xlLmxvZyhjaGVja2JveGVzKVxuICAgIG5ld1Byb2plY3QudGVjaG5vbG9naWVzID0gW11cbiAgICBjaGVja2JveGVzLmZvckVhY2goKGJveCkgPT4ge1xuICAgICAgbmV3UHJvamVjdC50ZWNobm9sb2dpZXMucHVzaChib3gudmFsdWUpXG4gICAgfSlcbiAgICBjb25zb2xlLmxvZyhcImFkZFwiLCBuZXdQcm9qZWN0KVxuICAgIGFkZFByb2plY3QgPT09IFwiYWRkUHJvamVjdFwiXG4gICAgICA/IGF3YWl0IGFkZE5ld1Byb2plY3QobmV3UHJvamVjdClcbiAgICAgIDogYXdhaXQgdXBkYXRlUHJvamVjdChuZXdQcm9qZWN0LCBwcm9qZWN0LmlkKVxuXG4gICAgYXdhaXQgUHJvamVjdHMoKVxuICB9KVxufVxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vcHJvamVjdHMuc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiXSwic291cmNlUm9vdCI6IiJ9